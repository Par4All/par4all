
PROPER  EFFECTS

void list_free(list l)
{
//             <    is read   >: l
//             <    is written>: n p
   list n = l, p = l;
//             <    is read   >: n
   //while (n!=nil) {
   // FI: to simplify the analysis...
   while (n) {
//             <may be read   >: *ANY_MODULE*:*ANYWHERE*
//             <    is written>: n
      n = n->next;
//             <    is read   >: p _MALLOC_EFFECTS:_MALLOC_
//             <    is written>: _MALLOC_EFFECTS:_MALLOC_
      free(p);
//             <    is read   >: n
//             <    is written>: p
      p = n;
   }
   return;
}

POINTS-TO


// Points To IN:
// _l_1.next -> *NULL_POINTER* , MAY
// _l_1.next -> _l_1_1 , MAY
// _l_1_1.next -> *NULL_POINTER* , MAY
// _l_1_1.next -> _l_1_1 , MAY
// l -> *NULL_POINTER* , MAY
// l -> _l_1 , MAY


// Points To OUT:
// _l_1.next -> *NULL_POINTER* , MAY
// _l_1.next -> _l_1_1 , MAY
// _l_1_1.next -> *NULL_POINTER* , MAY
// _l_1_1.next -> _l_1_1 , MAY

void list_free(list l)
{

// Points To:
// l -> *NULL_POINTER* , MAY
// l -> _l_1 , MAY

   list n = l, p = l;

// Points To:
// l -> *NULL_POINTER* , MAY
// l -> _l_1 , MAY
// n -> *NULL_POINTER* , MAY
// n -> _l_1 , MAY
// p -> *NULL_POINTER* , MAY
// p -> _l_1 , MAY

   //while (n!=nil) {
   // FI: to simplify the analysis...
   while (n) {

// Points To:
// _l_1.next -> *NULL_POINTER* , MAY
// _l_1.next -> _l_1_1 , MAY
// _l_1_1.next -> *NULL_POINTER* , MAY
// _l_1_1.next -> _l_1_1 , MAY
// l -> *NULL_POINTER* , MAY
// l -> _l_1 , MAY
// n -> _l_1 , MAY
// n -> _l_1_1 , MAY
// p -> *NULL_POINTER* , MAY
// p -> _l_1 , MAY
// p -> _l_1_1 , MAY

      n = n->next;

// Points To:
// _l_1.next -> *NULL_POINTER* , MAY
// _l_1.next -> _l_1_1 , MAY
// _l_1_1.next -> *NULL_POINTER* , MAY
// _l_1_1.next -> _l_1_1 , MAY
// l -> *NULL_POINTER* , MAY
// l -> _l_1 , MAY
// n -> *NULL_POINTER* , MAY
// n -> _l_1_1 , MAY
// p -> *NULL_POINTER* , MAY
// p -> _l_1 , MAY
// p -> _l_1_1 , MAY

      free(p);

// Points To:
// _l_1.next -> *NULL_POINTER* , MAY
// _l_1.next -> _l_1_1 , MAY
// _l_1_1.next -> *NULL_POINTER* , MAY
// _l_1_1.next -> _l_1_1 , MAY
// l -> *NULL_POINTER* , MAY
// l -> _l_1 , MAY
// n -> *NULL_POINTER* , MAY
// n -> _l_1_1 , MAY
// p -> *ANY_MODULE*:*NOWHERE* , EXACT

      p = n;
   }

// Points To:
// _l_1.next -> *NULL_POINTER* , MAY
// _l_1.next -> _l_1_1 , MAY
// _l_1_1.next -> *NULL_POINTER* , MAY
// _l_1_1.next -> _l_1_1 , MAY
// l -> *NULL_POINTER* , MAY
// l -> _l_1 , MAY
// n -> *NULL_POINTER* , EXACT
// p -> *NULL_POINTER* , MAY
// p -> _l_1 , MAY
// p -> _l_1_1 , MAY

   return;
}
