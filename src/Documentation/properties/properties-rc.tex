% PIPS Project
%
% $Id$
%
% Description des enchainements possibles des passes et analyses de PIPS
% pour properties
%
% Derivation rules and aliases must be included in verbatim environments. 
% Nothing else should appear in a verbatim environment.
% 
% Modifications

%% \batchmode

% \documentstyle[11pt,html]{article}

\documentclass[a4paper]{article}
\usepackage{alltt,html,fancybox,amstext,xspace,psfig}

\title{Properties \\
    Low Level Tuning of PIPS}
\author{Lei Zhou \hspace{2cm} 
        Fran\c{c}ois Irigoin\thanks{E-mail: {\tt irigoin@cri.ensmp.fr}} \vspace{1cm}\\
        Centre de Recherche en Informatique \\
        Ecole des Mines de Paris \\
        77305 Fontainebleau Cedex \\
        France \\}
% \date{\today (Initial version: October 1991)}
\date{
$~$Date: 1997/10/31 10:09:16 $~$
}

% \addtolength{\textwidth}{72pt}
% \addtolength{\oddsidemargin}{-48pt}
% \addtolength{\evensidemargin}{-48pt}
% \addtolength{\textheight}{172pt}
% \addtolength{\topmargin}{-60pt}

\newcommand{\PIPS}{\htmladdnormallink{{\em PIPS}}{http://www.cri.ensmp.fr/pips}}
\newcommand{\PIPSMAKE}{\htmladdnormallink{\emph{pipsmake/}}{http://www.cri.ensmp.fr/pips/pipsmake.html}}
\newcommand{\PLinear}{\emph{Linear C$^3$}}
\newcommand{\PNEWGEN}{\htmladdnormallink{\emph{NewGen}}{http://www.cri.ensmp.fr/pips/newgen-manual/newgen-manual.html}}
\newcommand{\PdaVinci}{\htmladdnormallink{\emph{daVinci}}{http://www.informatik.uni-bremen.de/~davinci}}
\newcommand{\Pri}{\htmladdnormallink{\emph{Internal\space{}Representation}}{http://www.cri.ensmp.fr/pips/ri/ri.html}}
\newcommand{\WPsc}{\htmladdnormallink{\emph{WP65}}{http://www.cri.ensmp.fr/pips/wp65.html}}

%% Now the interface names :
\newcommand{\pips}{\htmladdnormallink{\texttt{pips}}{http://www.cri.ensmp.fr/pips/batch-interface.html}}
\newcommand{\EPIPS}{\htmladdnormallink{\texttt{epips}}{http://www.cri.ensmp.fr/pips/wpips-epips-user-manual/wpips-epips-user-manual.html}}
\newcommand{\TPIPS}{\htmladdnormallink{\texttt{tpips}}{http://www.cri.ensmp.fr/pips/line-interface.html}}
\newcommand{\WPIPS}{\htmladdnormallink{\texttt{wpips}}{http://www.cri.ensmp.fr/pips/wpips-epips-user-manual/wpips-epips-user-manual.html}}
\newcommand{\Init}{\htmladdnormallink{\texttt{Init}}{http://www.cri.ensmp.fr/pips/Init.html}}
\newcommand{\Select}{\htmladdnormallink{\texttt{Select}}{http://www.cri.ensmp.fr/pips/Select.html}}
\newcommand{\Perform}{\htmladdnormallink{\texttt{Perform}}{http://www.cri.ensmp.fr/pips/Perform.html}}
\newcommand{\Display}{\htmladdnormallink{\texttt{Display}}{http://www.cri.ensmp.fr/pips/Display.html}}
\newcommand{\Delete}{\htmladdnormallink{\texttt{Delete}}{http://www.cri.ensmp.fr/pips/Delete.html}}

\makeindex

\begin{document}
\thispagestyle{empty}

\maketitle

% \begin{abstract}
% \end{abstract}

%%
%% INTRO
%%

\section*{Introduction}

This paper describes global variables used to modify or fine tune PIPS
behavior. Since global variables are useful for some purposes, but
always dangerous, PIPS programmers are required to declare them
explicitly as {\em properties}. Properties have an ASCII name and can
have boolean, integer or string values.

% The information here is machine and/or site independent.

Casual users should not use them. Properties are modified for them by
the user interface and/or the high-level functions.

Experienced users can modify properties by inserting a file called
\verb+properties.rc+ in their local directory. Of course, they cannot
declare new properties, since they would not be recognized by the PIPS
system. The local property file is read {\em after} the default property
file, \verb+$PIPS_ROOT/Share/properties.rc+.
% $ emacs latex environment does not know about \verb
Some user-specified property
values may be ignored because they are modified by a PIPS function before
it had a chance to have any effect. Unfortunately, there is no explicit
indication of usefulness for the properties in this report.

The default property file can be used to generate a custom version of
properties.rc. It is derived automatically from
\verb+Documentation/properties-rc.tex+.

PIPS behavior can also be altered by Shell environment variables. Their
generic names is \verb+XXXX_DEBUG_LEVEL+, where \verb+XXXX+ is a library
or a phase or an interface name (of course, there are
exceptions). Theoretically these environment variables are also declared
as properties, but this is generally forgotten by programmers. A debug
level of 0 is equivalent to no tracing. The amount of tracing increases
with the debug level. The maximum useful value is 9.

Another Shell environment variable, \verb+NEWGEN_MAX_TABULATED_ELEMENTS+,
is useful to analyze large programs. Its default value is 12,000 but it is
not uncommon to have to set it up to 200,000.

Properties are listed below on a source library basis. The outline is
close to the outline of \PIPSMAKE{}.  Properties used in more than
one library are presented first. Section~\ref{section-pips-infrastructure}
contains information about infrastructure, external and user interface
libraries. Analyses are grouped in Section~\ref{section-analyses}. Program
transformations, parallelization and distribution phases are listed in the
next section. User output produced by different kinds of prettyprinters
are presented in Section~\ref{section-prettyprinters}.
Section~\ref{section-feautrier} is dedicated to libraries added by CEA to
implement Feautrier's method.

Virtually every PIPS programmer contributed some lines in this
report. Inconsistencies are likely. Please report them to the PIPS team!


\newpage

\tableofcontents

\newpage


%%
%% GLOBAL
%%

\section{Global Options}

Are DO loops bodies executed at least once (F-66 style), or not (Fortran~77)?
This is useful for use/def and semantics analysis but is not used for
region analyses. This dangerous property should be set to FALSE.

\begin{verbatim}
ONE_TRIP_DO FALSE
\end{verbatim}

\subsection{Logging}
\index{Logging}

It is possible to display the amount of real, cpu and system times
directly spent in each phase as well as the times spent reading/writing data
structures from/to PIPS database. The default value of this property is
\verb+FALSE+. The computation of total time used to complete a
\verb+pipsmake+ request is broken down into global times, a set of phase times
which is the accumulation of the times spent in each phase, and a set of
IO times, also accumulated thru phases. 

Note that the IO times are included in the phase times.

\begin{verbatim}
LOG_TIMINGS FALSE
\end{verbatim}

It is possible to log the amount of memory used by each phase and by
each request. This is mainly useful to check if a computation can be
performed on a given machine. This memory log can also be used to track memory
leaks.

\begin{verbatim}
LOG_MEMORY_USAGE FALSE
\end{verbatim}



%%
%% PIPS META
%%

\section{PIPS Infrastructure}
\label{section-pips-infrastructure}

\subsection{Newgen}
\index{NewGen}

Newgen offers some debugging support to check object consistency
(\verb+gen_consistent_p+ and \verb+gen_defined_p+), and for dynamic type
checking. See Newgen documentation\cite{JT89}\cite{JT90}.

\subsection{C3 Linear Library}
\index{C3 Linear Library}

This library is external and offers an independent debugging system.

\subsection{Pipsmake}
\index{Pipsmake}

It is possible to log and report differences between the set of resources
actually read and written by the procedures called by pipsmake and the set
of resources declared as read or written in pipsmake.rc file.

\begin{verbatim}
CHECK_RESOURCE_USAGE FALSE
\end{verbatim}

The rule activation process may delete from the database all the
derived resources from the newly activated rule to make sure that
non-consistent resources cannot be used by accident.

\begin{verbatim}
ACTIVATE_DEL_DERIVED_RES TRUE
\end{verbatim}

\subsection{Pipsbdm}
\index{Pipsdbm}

Shell environment variables \verb+PIPSDBM_DEBUG_LEVEL+ can be set to ?
to check object consistency when they are stored in the database, and to
? to check object consistency when they are stored or retrieved (in case
an intermediate phase has corrupted some data structure unwillingly).

what to do at the end when saving resources: It can also be set to "all".
Note that it is managed from pipsmake.
\begin{verbatim}
PIPSDBM_RESOURCES_TO_DELETE "obsolete"
\end{verbatim}


\subsection{Top Level Control}
\index{Top Level}
\index{Logging}
\index{Abort}

Print a log of the session

\begin{verbatim}
USER_LOG_P      TRUE
\end{verbatim}

What to do on user errors: go ahead (default) or core dump (debug)

\begin{verbatim}
ABORT_ON_USER_ERROR     FALSE
\end{verbatim}

\subsection{Tpips Command Line Interface}
\index{Tpips}

\TPIPS{} is one of PIPS user interfaces.

Shall we execute the instructions of just check the syntax:

\begin{verbatim}
TPIPS_NO_EXECUTION_MODE      FALSE
\end{verbatim}


\subsection{Warning Control}
\index{Warning}

User warnings may be turned off. Definitely, this is not the default
option! Most warnings {\em must} be read to understand surprising results.
This porperty is used by library \verb/misc/.

\begin{verbatim}
NO_USER_WARNING FALSE
\end{verbatim}

By default, \PIPS{} reports errors generated by system call \verb/stat/
which is used in library \verb/pipsdbm/ to check the time a resource has
been written and hence its temporal consistency.

\begin{verbatim}
WARNING_ON_STAT_ERROR TRUE
\end{verbatim}

Control restructuring eliminates empty sequences but as empty true or
false branch of structured \verb/IF/. This semantic property of \Pri{}
is enforced by libraries \verb/effects/,
\verb/regions/, \verb/hpfc/, \verb/effects-generic/.

\begin{verbatim}
WARN_ABOUT_EMPTY_SEQUENCES FALSE
\end{verbatim}

\subsection{Preprocessing}
\index{Preprocessing}

FC: could you please check the consistency between the next property and the
preprocessing section in pipsmake-rc.tex?

\begin{verbatim}
CHECK_FORTRAN_SYNTAX_BEFORE_PIPS FALSE
\end{verbatim}

\PIPS{} requires source code for all leaves in its visible call graph. By
default, a user error is raised by Function \verb/initializer/ if a user
request cannot be satisfied because some source code is missing. It also
is possible to generate some synthetic code (a.k.a. {\em stubs} or ???)
and to update the current module list but this is not a very satisfying
option because all interprocedural analysis results are going to be wrong.
The user should retrieve the generated \verb/.f/ files in the workspace
and add some assignments (def) and uses. The user modified synthetic files
should then be saved and used to generate a new workspace.

\begin{verbatim}
GENERATE_MISSING_SOURCE_FILES FALSE
\end{verbatim}



%%
%% ANALYSES
%%

\section{Analyses}
\label{section-analyses}
\index{Analysis}

\subsection{Parser}
\index{Parser}

\subsubsection{Input Format}

Some subtle errors occur because the PIPS parser uses a fixed
format. Columns 73 to 80 are ignored, but the parser may emit a warning
if some characters are encountered in this comment field.

\begin{verbatim}
PARSER_WARN_FOR_COLUMNS_73_80   TRUE
\end{verbatim}

\subsubsection{Type Checking}
\index{Type Checking}

Each argument list at calls to a function or a subroutine is compared to
the functional type of the callee. Turn this off if you need to support
variable numbers of arguments or if you use overloading and do not want to
hear about it. For instance, an IO routine can be used to write an array
of integers or an array of reals or an array of complex if the length
parameter is appropriate.

Since the functional typing is shaky, let's turn it off by default!

\begin{verbatim}
PARSER_TYPE_CHECK_CALL_SITES   FALSE
\end{verbatim}

\subsubsection{Loop Header with Label}

The PIPS implementation of Allen\&Kennedy algorithm cannot cope with
labelled DO loops because the loop, and hence its label, may be
replicated if the loop is distributed. The parser can generate an extra
\verb/CONTINUE/ statement to carry the label and produce a label-free
loop. This is not the standard option because \PIPS{} is designed to
output code as close as possible to the user source code.

\begin{verbatim}
PARSER_SIMPLIFY_LABELLED_LOOPS FALSE
\end{verbatim}

\subsubsection{Alternate Return}
\index{Alternate Return}
\index{Return (Alternate)}

Alternate returns are put among the obsolete Fortran features by the
Fortran~90 standard. It is possible (1) to refuse them, or (2) to ignore
them and (3) to replace alternate returns by {\tt STOP}, or to substitute
them by a semantically equivalent code based on return code values. Option
(2) is useful if the alternate returns are used to propagate error
conditions. Option (3) is useful to understand the impact of the alternate
returns on the control flow graph and to maintain the code semantics.
By default, the first option is selected and alternate returns are refused.

To produce an executable code, the declarations must be
regenerated: see property \verb/PRETTYPRINT_ALL_DECLARATIONS/ in
Section~\ref{subsubsection-declarations}. 

With option (2), the code can still be executed if alternate returns are used only for
errors and if no errors occur. It can also be analyzed to understand what
the {\em normal} behavior is. For instance, OUT regions are more likely to
be exact when exceptions and errors are ignored.

\begin{verbatim}
PARSER_SUBSTITUTE_ALTERNATE_RETURNS "NO"
PARSER_RETURN_CODE_VARIABLE "PIPS_RETURN_CODE_"
\end{verbatim}

\subsubsection{Symbol Table}
\index{Symbol Table}

For debugging purposes, it is possible to print a summary of the symbol
table. But this is not the default option.

\begin{verbatim}
PARSER_DUMP_SYMBOL_TABLE FALSE
\end{verbatim}

\subsubsection{Statement Function}
\index{Statement Function}

Whether to attempt to support fortran statement functions by cold
substitution in the parser. Otherwise there is no support at all.
The default is not to perform this unchecked replacement, which might 
change the semantics of the program\ldots For most uses of macros I've
seen, it is legal to perform the substitution, however. Note that the
parser does not have the information necessary to check for the validity
of the transformation. A better method would be to represent them somehow
a local functions in the IR, but the implications with \texttt{pipsmake} 
and other issues are not clearly all foreseen\ldots (FC).
\begin{verbatim}
PARSER_EXPAND_STATEMENT_FUNCTIONS FALSE
\end{verbatim}


\subsection{Controlizer}
\index{Controlizer}

By unsetting this property \verb|unspaghettify| is not applied
implicitly in the controlizer phase.

\begin{verbatim}
UNSPAGHETTIFY_IN_CONTROLIZER   TRUE
\end{verbatim}



\subsection{Chains}
\index{Use-Def Chains}
\index{Def-Use Chains}
\index{Def-Def Chains}
\index{Use-Use Chains}

It is possible to put use-use dependence arcs in the dependence graph.
This is useful for estimation of cache memory traffic and of
communication for distributed memory machine (e.g. you can parallelize
only communication free loops). Beware of use-use dependence on scalar
variables. You might expect scalars to be broadcasted and/or replicated
on each processor but they are not handled that way by the
parallelization process unless you manage to have them
declared private with respect to all enclosing loops.

This feature is not supported by PIPS user interfaces. Results may be
hard to interprete. It is useful to print the dependence graph.

\begin{verbatim}
KEEP_READ_READ_DEPENDENCE FALSE
\end{verbatim}

It is possible to mask effects on local variables in loop bodies. This
is dangerous with current version of Allen \& Kennedy which assumes that
all the edges are present, the ones on private variables being
partially ignored but for loop distribution. In other words, this
property should always be set to \verb+false+.

\begin{verbatim}
CHAINS_MASK_EFFECTS FALSE
\end{verbatim}

It also is possible to keep only true dataflow (Def -- Use) dependences in
the dependence graph. This was an attempt at mimicking the effect of
direct dependence analysis and at avoiding privatization. However, {\em
direct} dependence analysis is not implemented in the standard tests and
spurious def-use dependence arcs are taken into account.

\begin{verbatim}
CHAINS_DATAFLOW_DEPENDENCE_ONLY FALSE
\end{verbatim}

The last two properties are not consistent with PIPS current development
(1995/96). It is assumed that {\em all} dependence arcs are present in the
dependence graph. Phases using the latter should be able to filter out
irrelevant arcs, e.g. pertaining to privatized variables.

\subsection{Effects}
\index{Effects (Memory)}
\index{Memory Effects}

Print SDFI just after computation:

\begin{verbatim}
EFFECTS_PRINT_SDFI TRUE
\end{verbatim}


\subsection{Dependence Test (Ricedg)}
\index{Dependence Test}

% Module code and list of called module names.

\subsubsection{Dependence Test Selection}
\index{Dependence Test}

This property seems to be now obsolete. The dependence test choice is
now controlled directly and only by rules in \PIPSMAKE{}. The procedures
called by these rules may use this property. Anyway, it is useless to
set it manually.

\begin{verbatim}
DEPENDENCE_TEST "full"
\end{verbatim}


\subsubsection{Statistics}

Provide the following counts during the dependence test. There are three
parts: numbers of dependencies and independences (fields 1-10),
dimensions of referenced arrays and dependence natures (fields 11-25)
and the same information for constant dependencies (fields 26-40),
decomposition of the dependence test in elementary steps (fields 41-49),
use and complexity of Fourier-Motzkin's pair-wise elimination (fields
50, 51 and 52-68).

\begin{itemize}

  \item[1] array reference pairs, i.e. number of tests effected
    (used to be the number of use-def, def-use and def-def pairs on arrays);

  \item[2] number of independences found (on array reference pairs);

    {\bf Note:} field 1 minus field 2 is the number of array
    dependencies. 

  \item[3] numbers of loop independent dependences between references
    in the  same statement (not useful for program transformation
    and parallelization if statements are preserved); it should
    be subtracted from field 2 to compare results with other
    parallelizers;

  \item[4] numbers of constant dependences; 

  \item[5] numbers of exact dependences;

    {\bf Note:} field 5 must be greater or equal to field 4.

  \item[6] numbers of inexact dependences involved only by the 
           elimination of equation;
  \item[7] numbers of inexact dependences involved only by the F-M
           elimination;
  \item[8] numbers of inexact dependences involved by both elimination of
           equation and F-M elimination; 

    {\bf Note:} the sum of fields 5 to 8 and field 2 equals field 1

  \item[9] number of dependences among scalar variables;
  \item[10] numbers of dependences among loop index variables;
  \item[11-40] dependence types detail table with the dimensions [5][3]
               and constant dependence detail table with the
               dimensions [5][3]; the first index is the array dimension
    (from 0 to 4 - no larger arrays has ever been found); the
    second index is the dependence nature (1: d-u, 2: u-d, 3: d-d);
    both arrays are flatten according to C rule  as 5 sequences of
    3 natures;

    {\bf Note:} the sum of fields 11 to 25 should be equal to
    the sum of field 9 and 2 minus field 1.

    {\bf Note:} the fields 26 to 40 must be less than or equal to
    the corresponding fields 11 to 25

  \item[41] numbers of independences found by the test of constant;
  \item[42] numbers of independences found by the GCD test;
  \item[43] numbers of independences found by the normalize test;
  \item[44] numbers of independences found by the lexico-positive test
             for constant Di variables;
  \item[45] numbers of independences found during the projetion on Di
            variables by the elimination of equation;
  \item[46] numbers of independences found during the projetion on Di
            variables by the Fourier-Motzkin's elimination;
  \item[47] numbers of independences found during the test of
            faisability of  Di sub-system by the elimination of equation;
  \item[48] numbers of independences found during the test of
            faisability of Di sous-system by the Fourier-Motzkin's
            elimination; 
  \item[49] numbers of independences found by the test of lexico-positive
            for Di sub-system; 

    {\bf Note:} the sum of fields 41 to 49 equals field 2

  \item[50] total number of Fourier-Motzkin's pair-wise eliminations
     used; 
  \item[51] number of Fourier-Motzkin's pair-wise elimination 
    in which the system size doesn't augment after the elimination;
  \item[52-68] complexity counter table of dimension [17]. The
               complexity of one projection by F-M is the product of the
               number of positive inequalities and the number of negatives
               inequalities that contain the eliminated variable. This
    is an histogram of the products. Products which are less than 
    or equal to 4
    imply that the total number of inequalities does not increase.
    So if no larger product exists, field 50 and 51 must be equal.
\end{itemize}

The results are stored in the currentworkspace in MODULE.resulttestfast,
MODULE.resultesttestfull, or MODULE.resulttestseman according to the
test selected.

\begin{verbatim}
RICEDG_PROVIDE_STATISTICS FALSE
\end{verbatim}

Provide the statistics above and counte all array reference pairs
including these involved in call statement.

\begin{verbatim}
RICEDG_STATISTICS_ALL_ARRAYS FALSE
\end{verbatim}

\subsubsection{Algorithmic Dependences}
\index{Def-Use Chains}

Only take into account true flow dependences (Def -- Use) during the
computation of SCC?  Note that this is different from the
CHAINS\_DATAFLOW\_DEPENDENCE\_ONLY option which doesn't compute the
whole graph.  Warning: this option potentially yields incorrect parallel
code.

\begin{verbatim}
RICE_DATAFLOW_DEPENDENCE_ONLY FALSE
\end{verbatim}

\subsubsection{Printout}
\index{Dependence Graph}
\index{Prettyprinter (DG)}
\index{DG Prettyprinter}

Here are the properties used to control the printing of dependence
graphs in a file called {\em module\_name}.{\tt dg}. These properties
should not be used explictly because they are set implicitly by the
different print-out procedures available in \verb/pipsmake.rc/. However,
not all combinations are available from \verb/pipsmake.rc/.

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH FALSE
\end{verbatim}

To print the dependence graph without the dependences on privatized
variables 

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_WITHOUT_PRIVATIZED_DEPS FALSE
\end{verbatim}

To print the dependence graph without the non-loop-carried dependences:
 
\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_WITHOUT_NOLOOPCARRIED_DEPS FALSE
\end{verbatim}

To print the dependence graph with the dependence cones:

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_WITH_DEPENDENCE_CONES FALSE
\end{verbatim}

To print the dependence graph in a computer friendly format defined by
Deborah Whitfield (SRU):

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_USING_SRU_FORMAT FALSE
\end{verbatim}

\subsubsection{Optimization}

The default option is to compute the dependence graph only for loops
which can be parallelized using Allen \& Kennedy algorithm.  However it
is possible to compute the dependences in all cases, even for loop
containing test, goto, etc...  by setting this option to TRUE.

Of course, this information is not used by the parallelization phase
which is restricted to loops meeting the A\&K conditions. By the way,
the hierarchical control flow graph is not exploited either by the
parallelization phase.

\begin{verbatim}
COMPUTE_ALL_DEPENDENCES FALSE
\end{verbatim}

\subsection{Flinter}
\index{Flinter}

No property for this library.

\subsection{Semantic Analysis}
\label{subsection-semantic-analysis}
\index{Semantics}
\index{Precondition}
\index{Transformer}

\subsubsection{Flow Sensitivity}
\index{Flow Sensitivity}

Perform ``meet'' operations for semantics analysis. This property is
managed by \PIPSMAKE{}.

\begin{verbatim}
SEMANTICS_FLOW_SENSITIVE FALSE
\end{verbatim}

\subsubsection{Interprocedural Semantics Analysis}
\index{Interprocedural}

To be refined later; basically, use callee\'s transformers instead of
callee\'s effects when computing transformers bottom-up in the call graph;
when going top-down with preconditions, should we care about unique
call site and/or perform meet operation on call site preconditions ?

\begin{verbatim}
SEMANTICS_INTERPROCEDURAL FALSE
\end{verbatim}

This property is used internally and is not user selectable.

\subsubsection{Fix Point Operators}
\index{Fix Point}

CPU time and memory space are cheap enough to compute loop fix points for
{\em transformers}. This property implies SEMANTICS\_FLOW\_SENSITIVE and is not
user-selectable. Its default value is {\em false}.

\begin{verbatim}
SEMANTICS_FIX_POINT FALSE
\end{verbatim}

The default fix point operator is good for induction variables but it is
not good for all kinds of code. The default fix point operator is based on
the transition function associated to a loop body. A computation of
eigenvectors for eigenvalue 1 is used to detect loop invariants. This
fails when no transition function but only a transition relation is
available. Only equations can be found.

The second fix point operator is based on a pattern matching of elementary
equations and inequalities of the loop body transformer. Obvious
invariants are detected. This fix point operator is not better than the
previous one for induction variables but it can detect invariant equations
and inequalities.

This property is user selectable and its default value is FALSE.

\begin{verbatim}
SEMANTICS_PATTERN_MATCHING_FIX_POINT FALSE
\end{verbatim}

This property was defined to select one of Cousot-Halbwachs's heuristics
and to compute fix points with inequalities and equalities for loops.
These heuristics could be used to compute fix points for transformers
and/or preconditions. This option implies SEMANTICS\_FIX\_POINT and
SEMANTICS\_FLOW\_SENSITIVE.  It has not been implemented yet in
PIPS\footnote{But some fix point functions are part of the C3 linear
  library.} because its accuracy has not yet been required, but is now
badly named because there is no direct link between {\em inequality} and
{\em Halbwachs}. Its default value is {\em false} and it is not user
selectable.

\begin{verbatim}
SEMANTICS_INEQUALITY_INVARIANT FALSE
\end{verbatim}

\subsubsection{Debugging}
\index{Debug (Semantics)}

Output semantics results on stdout

\begin{verbatim}
SEMANTICS_STDOUT FALSE
\end{verbatim}

Debug level for semantics

\begin{verbatim}
SEMANTICS_DEBUG_LEVEL 0
\end{verbatim}

\subsection{Static Complexity Evaluation}
\index{Complexity}

The following properties control the static estimation of dynamic code
execution time.

\subsubsection{Debugging}
\index{Debug (Complexity)}

Trace the walk across a module's internal representation:

\begin{verbatim}
COMPLEXITY_TRACE_CALLS FALSE
\end{verbatim}

Trace all intermediate complexities:

\begin{verbatim}
COMPLEXITY_INTERMEDIATES FALSE
\end{verbatim}

Print the complete cost table at the beginning of the execution:

\begin{verbatim}
COMPLEXITY_PRINT_COST_TABLE FALSE
\end{verbatim}

The cost table(s) contain machine and compiler dependent information
about basic execution times, e.g. time for a load or a store.

\subsubsection{Fine Tuning}

It is possible to specify a list of variables which must remain
litterally in the complexity formula, although their numerical values
are known (this is OK) or although they have multiple unkown and
unrelated values during any execution (this leads to an incorrect
result).

Formal parameters and imported global variables are left unevaluated.

They have relatively high priority (FI: I do not understand this comment
by Lei).

This list should be empty by default (but is not for unknown historical
reasons):

\begin{verbatim}
COMPLEXITY_PARAMETERS "IMAX LOOP"
\end{verbatim}

Controls the printing of {\em accuracy} statistics:

\begin{itemize}

  \item 0: do not prettyprint any statistics with complexities (to give
the user a false sense of accuracy and/or to avoid clutering his/her
display); this is the default value;

  \item 1: prettyprint statistics only for loop/block/test/unstr.
statements and not for basic statements, since they should not cause
accuracy problems;

  \item 2 : prettyprint statistics for all statements

\end{itemize}

\begin{verbatim}
COMPLEXITY_PRINT_STATISTICS 0
\end{verbatim}

\subsubsection{Target Machine and Compiler Selection}

This property is used to select a set of basic execution times. These
times depend on the target machine, the compiler and the compilation
options used. It is shown in \cite{Z94} that fixed basic times can be
used to obtain accurate execution times, if enough basic times are
considered, and if the target machine has a simple RISC processor. For
instance, it is not possible to use only one time for a register
load. It is necessary to take into account the nature of the variable,
i.e. formal parameter, dynamic variable, global variable, and the nature
of the access, e.g. the dimension of an accessed array. The cache can be
ignored an replacer by an average hit ratio.

Different set of elementary cost tables are available:

\begin{itemize}

  \item \verb+all_1+: each basic operation cost is 1;

  \item \verb+fp_1+: only floating point operations are taken into
account and have cost unit 1; all other operations have a null cost.

\end{itemize}

In the future, we might add a sparc-2 table...

The different elementary table names are defined in
\verb+complexity-local.h+. They presently are \verb+operation+, 
\verb+memory+, \verb+index+, \verb+transcend+
and \verb+trigo+.

The different tables required are to be found in
\verb+$PIPS_LIBDIR/complexity/xyz+,
%% $
where \verb+xyz+ is specified by this property:

\begin{verbatim}
COMPLEXITY_COST_TABLE "all_1"
\end{verbatim}

\subsubsection{Evaluation Strategy}

For the moment, we have designed two ways to solve the complexity
combination problem. Since symbolic complexity formulae use program
variables it is necessary to specify in which store they are
evaluated. If two complexity formulae are computed relatively to two
different stores, they cannot be directly added.

The first approach, which is implemented, uses the module initial store
as universal store for all formulae (but possibly for the complexity of
elementary statements).  In some way, symbolic variable are evaluated as
early as possible as soon as it is known that they won't make it in the
module summary complexity.

This first method is easy to implement when the preconditions are available
but it has at least two drawbacks:

\begin{itemize}

  \item if a variable is used in different places with the same unknown
value, each occurence will be replaced by a different unknown value
symbol (the infamous \verb+UU_xx+ symbols in formulae).

  \item since variables are replaced by numerical values as soon as
possible as early as possible, the user is shown a numerical execution
time instead of a symbolic formulae which would likely be more useful
(see property \verb+COMPLEXITY_PARAMETERS+). This is especially true
with interprocedural constant propagation.

\end{itemize}

The second approach, which is not implemented, delay variable evaluation
as late as possible. Complexities are computed and given relatively to
the stores used by each statements. Two elementary complexities are combined
together using the earliest store. The two stores are related by a {\em
transformer} (see Section~\ref{subsection-semantic-analysis}). Such an
approach is used to compute {\tt MUST} regions as precisely as possible
(see Section~\ref{subsection-regions}).

A simplified version of the late evaluation was implemented. The initial
store of the procedure is the only reference store used as with the
early evaluation, but variables are not evaluated right away. They only
are evaluated when it is necessary to do so. This not an ideal solution,
but it is easy to implement and reduces considerably the number of
unknown values which have to be put in the formulae to have correct
results.


\begin{verbatim}
COMPLEXITY_EARLY_EVALUATION FALSE
\end{verbatim}

\subsection{Regions}
\label{subsection-regions}
\index{Array Region}
\index{Region (Array)}

if {\tt MUST\_REGIONS} is true, then it computes regions using the
algorithm described in report E/181/CRI, called {\em $T^{-1}$
algorithm}. It provides more accurate regions, and preserve MUST
approximations more often. But it is less efficient. Its default value
is FALSE. EXACT\_REGIONS is true for the moment for backward
compatibility only.

\begin{verbatim}
EXACT_REGIONS TRUE
\end{verbatim}

\begin{verbatim}
MUST_REGIONS FALSE
\end{verbatim}

The default option is to compute regions without taking into account array
bounds. Both options have their advantages and drawbacks. 

\begin{verbatim}
REGIONS_WITH_ARRAY_BOUNDS FALSE
\end{verbatim}

I intend to compute disjunctions of regions. As I have already prepared basic
operators for that purpose, I created two properties to switch between regions
and disjuctions of regions. For the moment, they are always false.

\begin{verbatim}
DISJUNCT_REGIONS FALSE
\end{verbatim}

\begin{verbatim}
DISJUNCT_IN_OUT_REGIONS FALSE
\end{verbatim}

Statistics may be obtained about the computation of array regions. When the first
property ({\tt REGIONS\_OP\_STATISTICS}) is set to ({\tt TRUE}) statistics are
provided about operators on regions (union, intersection,
projection,\dots). The second property turns on the collection of statitics
about the interprocedural translation.

\begin{verbatim}
REGIONS_OP_STATISTICS FALSE
\end{verbatim}

\begin{verbatim}
REGIONS_TRANSLATION_STATISTICS FALSE
\end{verbatim}




%%
%% TRANSFORMATIONS
%%

\section{Transformations, Parallelization, Distribution}
\label{section-transformations}
\index{Transformation}


\subsection{Parallelization}
\index{Parallelization}

\subsubsection{Rice (Parallelization)}
\index{Allen\&Kennedy}

TRUE to show all parallel loops, FALSE to generate real (vector,
innermost parallel?) code

\begin{verbatim}
GENERATE_NESTED_PARALLEL_LOOPS TRUE
\end{verbatim}

Show statistics on the number of loops parallelized by pips.
\begin{verbatim}
PARALLELIZATION_STATISTICS FALSE
\end{verbatim}

\subsubsection{Coarse grain Parallelization}

No property.

\subsubsection{Nested Loop Parallelization}

No property.

\subsection{Code Distribution}
\index{Distribution (Code)}
\index{Code Distribution}

\subsubsection{WP65 (PUMA Project)}
\index{WP65}

\begin{verbatim}
WP65_DEBUG_LEVEL        0
\end{verbatim}

\subsubsection{HPFC {\em High Performance Fortran Compiler}}
\index{HPF}

Debugging levels considered by HPFC: 
\verb+HPFC_{,DIRECTIVES,IO,REMAPPING}_DEBUG_LEVEL+.

  These booleans control whether some computations are directly
generated in the output code, or computed thru calls to dedicated
runtime functions. The default is the direct expansion.

\begin{verbatim}
HPFC_EXPAND_COMPUTE_LOCAL_INDEX TRUE
HPFC_EXPAND_COMPUTE_COMPUTER TRUE
HPFC_EXPAND_COMPUTE_OWNER TRUE
HPFC_EXPAND_CMPLID TRUE
HPFC_NO_WARNING FALSE
\end{verbatim}

   Hacks control\ldots

\begin{verbatim}
HPFC_FILTER_CALLEES FALSE
GLOBAL_EFFECTS_TRANSLATION TRUE
\end{verbatim}

  These booleans control the I/O generation.

\begin{verbatim}
HPFC_SYNCHRONIZE_IO FALSE
HPFC_IGNORE_MAY_IN_IO FALSE
\end{verbatim}

  Whether to use lazy or non-lazy communications

\begin{verbatim}
HPFC_LAZY_MESSAGES TRUE
\end{verbatim}

Whether to ignore FCD (Fabien Coelho Directives\ldots) or not. These
directives are used to instrument the code for testing purposes.

\begin{verbatim}
HPFC_IGNORE_FCD_SYNCHRO FALSE
HPFC_IGNORE_FCD_TIME FALSE
HPFC_IGNORE_FCD_SET FALSE
\end{verbatim}

Whether to measure and display the compilation times for remappings,
and whether to generate outward redundant code for remappings. Also
whether to generate code that keeps track dynamically of live mappings. 
Also whether not to send data to a twin (a processor that holds the very
same data for a given array). 

\begin{verbatim}
HPFC_TIME_REMAPPINGS FALSE
HPFC_REDUNDANT_SYSTEMS_FOR_REMAPS FALSE
HPFC_DYNAMIC_LIVENESS TRUE
HPFC_GUARDED_TWINS TRUE
\end{verbatim}

Whether to use the local buffer management. 1 MB of buffer is allocated.

\begin{verbatim}
HPFC_BUFFER_SIZE 1000000
HPFC_USE_BUFFERS TRUE
\end{verbatim}

Wheter to use in and out regions for input/output compiling

\begin{verbatim}
HPFC_IGNORE_IN_OUT_REGIONS TRUE
\end{verbatim}

Whether to extract more equalities from a system, if possible.

\begin{verbatim}
HPFC_EXTRACT_EQUALITIES TRUE
\end{verbatim}

Whether to try to extract the underlying lattice when generating code for
systems with equalities.

\begin{verbatim}
HPFC_EXTRACT_LATTICE TRUE
\end{verbatim}

%% \section{Program Transformations}

\subsection{Dead Code Elimination}
\index{Dead Code}

Since it is useful to display statistics on what has been found
useless and removed in a program, this property is used to ask for
statistics displaying:
\begin{verbatim}
DEAD_CODE_DISPLAY_STATISTICS TRUE
\end{verbatim}



\subsection{Control Flow Graph Restructuring}
\index{CFG}
\index{Control Flow Graph}
\index{Restructurer}



\subsubsection{Unspaghettify \& Restructurer}


To display the statistics about unspaghettify and control graph
restructuring.
\begin{verbatim}
UNSPAGHETTIFY_DISPLAY_STATISTICS TRUE
\end{verbatim}

The following option enables the use of IF/THEN/ELSE restructuring
when applying unspaghettify:
\begin{verbatim}
UNSPAGHETTIFY_TEST_RESTRUCTURING FALSE
\end{verbatim}

The following option enables the use of control graph hierarchisation
when applying unspaghettify:
\begin{verbatim}
UNSPAGHETTIFY_RECURSIVE_DECOMPOSITION FALSE
\end{verbatim}


\subsubsection{Clean Up Sequences}


To display the statistics about cleaning-up sequences and removing
useless CONTINUE or empty statement.
\begin{verbatim}
CLEAN_UP_SEQUENCES_DISPLAY_STATISTICS FALSE
\end{verbatim}


\subsubsection{FORMAT Restructuring}
\index{Format (Fortran)}

To able deeper code transformation, FORMATs can be gathered at the
very beginning of the code or at the very end according to the
following options in the unspaghettify or control restructuring phase.
\begin{verbatim}
GATHER_FORMATS_AT_BEGINNING FALSE
GATHER_FORMATS_AT_END FALSE
\end{verbatim}


\subsection{Array Privatization}
\index{Privatization}
\index{Privationzation (Array)}
\index{Array Privatization}

This transfomation privatizes array sections. Several privitizability
criterions could be applied, and its not clear which one should be used. The
default case is to remove potential false dependences between
iterations. The first option, when set to false, removes this
constraint. It is useful for single assignment programs, to discover what
section is really local to each iteration. When the second option is set to
false, the copy-out problem is not considered, i.e. only array elements that
are not further resued in the program continuation can be privatized. 

\begin{verbatim}
ARRAY_PRIV_FALSE_DEP_ONLY TRUE
\end{verbatim}

\begin{verbatim}
ARRAY_SECTION_PRIV_COPY_OUT TRUE
\end{verbatim}

\subsubsection{Partial Atomizer}
\index{Atomization}
\index{Three Address Code}

This transformation only atomizes indirect references of array access
functions.

\begin{verbatim}
ATOMIZE_INDIRECT_REF_ONLY FALSE
\end{verbatim}

\subsubsection{Loop Distribution}
\index{Loop Distribution}
\index{Distribution (Loop)}

Partial distribution distributes the statements of a loop nest except
 the isolated statements,that have no dependences at the common level l,
 are gathered in the same l-th loop.

\begin{verbatim}
PARTIAL_DISTRIBUTION FALSE
\end{verbatim}


\subsection{Cloning}

Cloning on an argument. If 0, a user request is performed.

\begin{verbatim}
TRANSFORMATION_CLONE_ON_ARGUMENT 0
\end{verbatim}


%%
%% PRETTYPRINTER
%%

\section{Prettyprinter Options}
\label{section-prettyprinters}
\index{Prettyprinter}

\subsection{Code Prettyprinter}
\index{Prettyprinter (Code)}
\index{Code Prettyprinter}

\subsubsection{Layout}
\index{Analysis}

When prettyprinting semantic information (preconditions, transformers and
regions), add a line before and after each piece of information if set to
\verb+TRUE+. The resulting code is more readable, but is larger.  

\begin{verbatim}
PRETTYPRINT_LOOSE TRUE 
\end{verbatim}

By default, each prettyprinted line of Fortran code is terminated by its
statement number in columns 73-80, unless no significative statement
number is available. This feature is used to trace the origin of
statements after program transformations and parallelization steps.

This feature may be inconvenient for some compilers or because it
generates large source files. It may be turned off.

Note that the statement number is {\em not} related to the line
number. Two statements on the same line have different statement
numbers. A multiline statement only has one number. See \Pri{}.

\begin{verbatim}
PRETTYPRINT_STATEMENT_NUMBER TRUE 
\end{verbatim}

\subsubsection{Target Language Selection}
\index{HPF}
\index{Fortran 90}
\index{CM Fortran}
\index{Cray Fortran}
\index{Fortran (Cray)}
\index{Craft}

Added for homogeneity reason; could be (easily) reduced to one?  In
fact, with many target machines in mind, we should have an integer flag
``architecture'', with two basic architectures, sequential and parallel.
Useless values: re-initialized in the C code.

\begin{verbatim}
PRETTYPRINT_PARALLEL FALSE

PRETTYPRINT_SEQUENTIAL TRUE
\end{verbatim}

Print parallel DO loops using FORTRAN 90 syntax. Useless value:
re-initialized in the C code.

\begin{verbatim}
PRETTYPRINT_FORTRAN90 FALSE
\end{verbatim}

Print parallel DO loops with the HPF directives (independent and new).
\begin{verbatim}
PRETTYPRINT_HPF FALSE
\end{verbatim}

Adds Cray (FMP + CFT77) compatible directives for parallelization.
Useless value: re-initialized in the C code.

\begin{verbatim}
PRETTYPRINT_CRAY FALSE
\end{verbatim}

Adds Connection Machine Fortran prettyprint.

\begin{verbatim}
PRETTYPRINT_CMFORTRAN FALSE
\end{verbatim}

Adds Cray-T3D CRAFT Fortran prettyprint.

\begin{verbatim}
PRETTYPRINT_CRAFT FALSE
\end{verbatim}

\subsubsection{Display Analysis Results}

Add statement effects as comments in output; not implemented (that way) yet.

\begin{verbatim}
PRETTYPRINT_EFFECTS FALSE
\end{verbatim}

Add statement IO-effects as comments in output; They are simulated by
a read/write action to the array TOP-LEVEL:LUNS()

\begin{verbatim}
PRETTYPRINT_IO_EFFECTS TRUE
\end{verbatim}

Transform DOALL loops into sequential loops with an opposed increment
not implemented

\begin{verbatim}
PRETTYPRINT_REVERSE_DOALL FALSE
\end{verbatim}

Print statement transformers as comments in code.

\begin{verbatim}
PRETTYPRINT_TRANSFORMER FALSE
\end{verbatim}

Print statement preconditions as comments in code.

\begin{verbatim}
PRETTYPRINT_EXECUTION_CONTEXT FALSE
\end{verbatim}

Print statement regions as comments in code.

\begin{verbatim}
PRETTYPRINT_REGION FALSE
\end{verbatim}

Print regions of scalars.

\begin{verbatim}
PRETTYPRINT_SCALAR_REGIONS FALSE
\end{verbatim}

\subsubsection{Display Internals for Debugging}
\index{Debug}

All these debugging options should be set to FALSE for normal operation,
when the prettyprinter is expected to produce code as close as possible to
the input form.
When they are turned on, the output is closer to the PIPS internal
representation.

Sequences are implicit in Fortran and in many programming languages but
they are internally represented. It is possible to print pieces of
information  gathered about sequences by turning on this property.

\begin{verbatim}
PRETTYPRINT_BLOCKS FALSE
\end{verbatim}

Print unstructured statements.

\begin{verbatim}
PRETTYPRINT_UNSTRUCTURED FALSE
\end{verbatim}

Print all effects for all statements regardless of \verb+PRETTYPRINT_BLOCKS+
and \verb+PRETTYPRINT_UNSTRUCTURED+.

\begin{verbatim}
PRETTYPRINT_ALL_EFFECTS FALSE
\end{verbatim}

Print empty statement blocks (false by default):

\begin{verbatim}
PRETTYPRINT_EMPTY_BLOCKS FALSE
\end{verbatim}

Print statement ordering information (false by default):

\begin{verbatim}
PRETTYPRINT_STATEMENT_ORDERING FALSE
\end{verbatim}

Print code with DO label and CONTINUE instead of DO-ENDDO. If FALSE, all
useless CONTINUE statements are NOT prettyprinted (ie. all those in
structured parts of the code). Warning: case TRUE, generated code may be
wrong after some code transformations like distribution...

\begin{verbatim}
PRETTYPRINT_ALL_LABELS FALSE
\end{verbatim}

Print code with DO label as comment.

\begin{verbatim}
PRETTYPRINT_DO_LABEL_AS_COMMENT FALSE
\end{verbatim}

Print private variables without regard for their effective use. By
default, private variables are shown only for parallel DO loops.

\begin{verbatim}
PRETTYPRINT_ALL_PRIVATE_VARIABLES FALSE
\end{verbatim}

Non-standard variables and tests are generated to simulate the control
effect of Fortran IO statements. If an end-of-file condition is
encountered or if an io-error is raised, a jump to relevant labels may
occur if clauses \verb|ERR=| or \verb|END=| are defined in the IO
control list. These tests are normally not printed because they could
not be compiled by a standard Fortran compiler and because they are
redundant with the IO statement itself.

\begin{verbatim}
PRETTYPRINT_CHECK_IO_STATEMENTS FALSE
\end{verbatim}

Manage internal RETURNs correctly if set to TRUE.  This results in a
slightly ugly (but correct) prettyprint, compared to a nicer (but
possibly incorrect) default one. Internal returns are converted by the
parser into GO~TO's the final and unique return.

\begin{verbatim}
PRETTYPRINT_INTERNAL_RETURN TRUE
\end{verbatim}

Print the final RETURN statement, although this is useless according to
Fortran standard. Note that comments attached to the final return are
lost if it is not printed. Note also that the final RETURN may be part
of an unstructured in which case the previous property is required.

\begin{verbatim}
PRETTYPRINT_FINAL_RETURN FALSE
\end{verbatim}

The internal representation is based on a standard IF structure, known as
{\em block if} in Fortran jargon. When possible, the prettyprinter uses
the {\em logical if} syntactical form to save lines and to produce an
output assumed closer to the input. When statements are decorated,
information gathered by PIPS may be lost. This property can be turned on
to have an output closer to the internal representation. Note that edges
of the control flow graphs may still be displayed as {\em logical if}
since they never carry any useful information\footnote{Information is
carried by the vertices (i.e. nodes). A CONTINUE statement is
generated to have an attachment node when
some information must be stored and displayed.}.

\begin{verbatim}
PRETTYPRINT_BLOCK_IF_ONLY FALSE
\end{verbatim}

\subsubsection{Declarations}
\label{subsubsection-declarations}
\index{Declaration}

By default, module declarations are preserved as huge strings to produce
an output as close as possible to the input (see field \verb/decls_text/
in type \verb/code/). However, large program transformations and code
generation phases, e.g. hpfc,a require updated declarations.

Regenerate all variable declarations, including those variables not
declared in the user program. By default, when possible, the user
declaration {\em text} is used to preserve comments.

\begin{verbatim}
PRETTYPRINT_ALL_DECLARATIONS FALSE
\end{verbatim}

If the prettyprint of the header and the declarations are done by
PIPS, try to display the genuine comments. Unfortunately, there is no
longer order relation between the comments and the declarations since
these are sorted by PIPS. By default, do not try to display the
comments when PIPS is generating the header.
\begin{verbatim}
PRETTYPRINT_HEADER_COMMENTS FALSE
\end{verbatim}

How to regenerate the common declarations.
It can be \emph{none}, \emph{declaration}, or \emph{include}.

\begin{verbatim}
PRETTYPRINT_COMMONS "declaration"
\end{verbatim}

\verb/DATA/ declarations are partially handled presently.

Where to put the dimension information, which must appear once.
The default is associated to the type information. It can be associated to
The type, or preferably to the common if any, or maybe to a dimension
statement, which is not implemented. 

\begin{verbatim}
PRETTYPRINT_VARIABLE_DIMENSIONS "type"
\end{verbatim}

\subsubsection{FORESYS Interface}
\index{Foresys}

Print transformers, preconditions and regions in a format accepted by
Foresys and Partita. Not maintained.

\begin{verbatim}
PRETTYPRINT_FOR_FORESYS FALSE
\end{verbatim}

\subsubsection{HPFC Prettyprinter}
\index{HPF}
\index{Prettyprinter (HPF)}

To deal specifically with the prettyprint for hpfc

\begin{verbatim}
PRETTYPRINT_HPFC FALSE
\end{verbatim}


\subsubsection{Interface to Emacs}
\index{Emacs}

The following property tells PIPS to attach various Emacs properties
for interactive purpose. Used internally by the Emacs pretyyprinter and
the \EPIPS{} user interface.
\begin{verbatim}
PRETTYPRINT_ADD_EMACS_PROPERTIES FALSE
\end{verbatim}


\subsubsection{Interface to Graphics Prettyprinters}

To output a code with a hierarchical view of the control graph with
markers instead of a flat one. It purposes a display with a graph
browser such as \PdaVinci{}:

\begin{verbatim}
PRETTYPRINT_UNSTRUCTURED_AS_A_GRAPH FALSE
\end{verbatim}

and to have a decorated output with the hexadecimal adresses of the
control nodes:
\begin{verbatim}
PRETTYPRINT_UNSTRUCTURED_AS_A_GRAPH_VERBOSE FALSE
\end{verbatim}

\subsection{Call Graph}
\label{subsection-call-graph}
\index{Call Graph}

This library is used to display the calling relationship between modules.
It is different from the interprocedural call flow graph, ICFG (see
Section~\ref{subsection-interprocedural-control-flow-graph}). For example:
if A calls B twice, in callgraph, there is only one edge between A and B;
while in ICFG (see next section)), there are two edges between A and B,
since A contains two call sites.

The call graph is derived from the modules declarations. It does not
really the parsed code per se, but the code must have been parsed to have
up-to-date declarations in the symbol table.

Because of printout limitations, the call graph is developped into a tree
before it is printed. The sub-graph of a module appears as many times as
is has callers. The resulting printout may be very long.

There is no option for the callgraph prettyprinter except
for debugging.

Debugging level (should be \verb+CALLGRAPH_DEBUG_LEVEL+ and numeric!)

\begin{verbatim}
CALLGRAPH_DEBUG FALSE
\end{verbatim}

\subsection{Interprocedural Control Flow Graph}
\label{subsection-interprocedural-control-flow-graph}
\index{ICFG}

This prettyprinter is NOT a call graph prettyprinter (see
Section~\ref{subsection-call-graph}). Control flow information can be
displayed and every call site is shown, possibly with some annotation like
precondition or region

This prettyprinter uses the module codes in the workspace database to
build the ICFG.

Print IF statements controlling call sites:

\begin{verbatim}
ICFG_IFs FALSE
\end{verbatim}

Print DO loops enclosing call sites:

\begin{verbatim}
ICFG_DOs FALSE
\end{verbatim}

To be destroyed:

\begin{verbatim}
ICFG_CALLEES_TOPO_SORT FALSE
\end{verbatim}

\begin{verbatim}
ICFG_DECOR 0
\end{verbatim}

\begin{verbatim}
ICFG_DRAW TRUE
\end{verbatim}

Debugging level (should be \verb+ICFG_DEBUG_LEVEL+ and numeric instead
of boolean!):

\begin{verbatim}
ICFG_DEBUG FALSE
\end{verbatim}



%%
%% PAF
%%

\section{Feautrier's Method}
\label{section-feautrier}

No properties apparently.



%%
%% CONCLUSION
%%

\section*{Conclusion}

Do not be surprised by strange results obtained after selecting a
property yourself!

\begin{thebibliography}{99}

\bibitem{JT89} P. Jouvelot, R. Triolet, 
{\em NewGen: A Language-Independent Program Generator},
July 12, 1989, 
\htmladdnormallink{Tech. Report A/191}{newgen-paper/newgen-paper.html}

\bibitem{JT90} P. Jouvelot, R. Triolet, 
{\em NewGen User Manual}. December
1990, 
\htmladdnormallink{Tech. Report A/???.}{newgen-manual/newgen-manual.html}

\bibitem{Z94} Lei Zhou,
{\em Analyse statique et dynamique de la complxit  des programmes
scientifiques}, 
Thse de doctorat de l'universit Pierre et Marie Curie, 14
septembre 1994. Technical Report A/255.

\end{thebibliography}

\newpage

% Cross-references for points and keywords

\input{properties-rc.ind}

\end{document}
