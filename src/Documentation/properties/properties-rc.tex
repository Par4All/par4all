%%
%% PIPS Project
%%
%% $Id$
%%
%% Description des enchainements possibles des passes et analyses de PIPS
%% pour properties
%%
%% Derivation rules and aliases must be included in verbatim environments. 
%% Nothing else should appear in a verbatim environment.
%% 
%% Modifications
%%
%% $Log: properties-rc.tex,v $
%% Revision 1.167  2002/07/01 09:29:54  phamdat
%% RW_FILTERED_EFFECTS added
%%
%% Revision 1.166  2002/06/14 09:09:30  irigoin
%% property PRETTYPRINT_REGENERATED_LABEL added
%%
%% Revision 1.165  2002/06/12 09:50:51  irigoin
%% Latex bug with underscores fixed
%%
%% Revision 1.164  2002/06/12 09:47:38  irigoin
%% Comments added about PIPS run-time functions required to support the "HRC" value of property PARSER_SUBSTITUTE_ALTERNATE_RETURNS "NO"
%%
%% Revision 1.163  2002/06/11 11:52:23  irigoin
%% property PRETTYPRINT_REGENERATE_ALTERNATE_RETURNS added
%%
%% Revision 1.162  2002/06/10 11:34:39  irigoin
%% Update of comments about handling of alternate returns, property PARSER_FORMAL_LABEL_SUBSTITUTE_PREFIX added
%%
%% Revision 1.161  2002/06/05 09:41:09  nguyen
%% Remove the property ARRAY_BOUND_CHECKING_FOR_DEBUGGING
%% Replace by PROGRAM_VERIFICATION_WITH_PRINT_MESSAGE that is used by all
%% program verifications
%%
%% Revision 1.160  2002/05/30 12:10:57  phamdat
%% ICFG_DV added
%%
%% Revision 1.159  2002/05/06 12:16:30  coelho
%% filter effects added.
%%
%% Revision 1.158  2002/03/20 08:32:47  nguyen
%% Add a debugging property for array bound checking
%%
%% Revision 1.157  2001/12/07 13:21:39  nguyen
%% Add new options for ARRAY_RESIZING_TOP_DOWN and BOTTOM_UP
%%
%% Revision 1.156  2001/11/30 15:00:56  nguyen
%% Add new property for alias checking
%%
%% Revision 1.155  2001/11/27 12:36:36  nguyen
%% Add new property ARRAY_RESIZING_USING_MAIN_PROGRAM
%%
%% Revision 1.154  2001/10/29 10:08:24  nguyen
%% Table of contents + Add comments for array bound checking
%%
%% Revision 1.153  2001/09/24 15:13:03  irigoin
%% Property SEMANTICS_COMPUTE_TRANSFORMERS_IN_CONTEXT added
%%
%% Revision 1.152  2001/06/15 16:17:50  irigoin
%% Property SEMANTICS_ANALYZE_SCALAR_COMPLEX_VARIABLES added
%%
%% Revision 1.151  2001/06/15 14:58:26  irigoin
%% Four properties added for semantics: SEMANTICS_ANALYZE_SCALAR_INTEGER_VARIABLES, SEMANTICS_ANALYZE_SCALAR_BOOLEAN_VARIABLES, SEMANTICS_ANALYZE_SCALAR_STRING_VARIABLES, SEMANTICS_ANALYZE_SCALAR_FLOAT_VARIABLES.
%%
%% Revision 1.150  2001/04/06 08:51:59  irigoin
%% New property PARSER_ACCEPT_ANSI_EXTENSIONS added. The previous change by
%% Nga fixed typos and spelling mistakes.
%%
%% Revision 1.149  2001/04/06 08:38:34  irigoin
%% Nga Nguyen ne sais pas ce qu'elle a change...
%%
%% Revision 1.148  2000/11/29 14:59:57  irigoin
%% Three properties added: PRETTYPRINT_INDENTATION, SEMANTICS_RECOMPUTE_EXPRESSION_TRANSFORMERS and SEMANTICS_RECOMPUTE_FIX_POINTS_WITH_PRECONDITIONS
%%
%% Revision 1.147  2000/10/11 15:23:22  irigoin
%% property PARSER_LINEARIZE_LOOP_BOUNDS added
%%
%% Revision 1.146  2000/10/11 14:44:56  irigoin
%% Properties SEMANTICS_TRUST_ARRAY_DECLARATIONS and
%% SEMANTICS_TRUST_ARRAY_REFERENCES added.
%%
%% Revision 1.145  2000/09/22 11:16:45  nguyen
%% *** empty log message ***
%%
%% Revision 1.144  2000/08/25 14:03:35  quoc
%% New property DECLARATION_COMMON_DISPLAY_STATISTICS added
%%
%% Revision 1.143  2000/08/22 10:09:42  nguyen
%% Modify properties for array bound check instrumentation
%%
%% Revision 1.142  2000/07/19 14:30:31  nguyen
%% Add new properties for the instrumentation of array bounds checking
%%
%% Revision 1.141  2000/05/17 07:57:55  coelho
%% complex constant constructors option.
%%
%% Revision 1.140  2000/05/16 16:35:58  coelho
%% props added for type checker...
%%
%% Revision 1.139  2000/04/28 09:57:11  quoc
%% Added new property: DECLARATION_TABLE_DISPLAY_STATISTICS
%%
%% Revision 1.138  2000/04/19 11:28:19  quoc
%% Modify the index of the property TRIVIAL_TEST_DISPLAY_STATISTICS
%%
%% Revision 1.137  2000/04/19 11:00:04  quoc
%% New property TRIVIAL_TEST_DISPLAY_STATISTICS added
%%
%% Revision 1.136  2000/04/05 08:16:47  coelho
%% PARTIAL_EVAL stuff added.
%%
%% Revision 1.135  1999/08/05 13:04:19  zory
%% multiply-add extraction removed from EOLE_FLAGS.
%%
%% Revision 1.134  1998/12/23 13:33:00  coelho
%% *** empty log message ***
%%
%% Revision 1.133  1998/11/24 14:00:57  coelho
%% EOLE_OPTIMIZATION_STRATEGY added.
%%
%% Revision 1.132  1998/11/04 09:39:26  coelho
%% props added for eole.
%%
%% Revision 1.131  1998/10/07 07:02:45  irigoin
%% Property PRETTYPRINT_DATA_STATEMENTS added
%%
%% Revision 1.130  1998/07/28 16:45:52  irigoin
%% Latex bug fixed
%%
%% Revision 1.129  1998/07/28 16:44:41  irigoin
%% More indexing on property names
%%
%% Revision 1.128  1998/07/27 15:22:44  irigoin
%% Latex bugs fixed.
%%
%% Revision 1.127  1998/07/27 15:18:43  irigoin
%% A lot of index entries added
%%
%% Revision 1.126  1998/07/24 16:15:35  irigoin
%% More comments about property PARSER_EXPAND_STATEMENT_FUNCTIONS
%%
%% Revision 1.125  1998/07/24 16:13:54  irigoin
%% Default value for PARSER_EXPAND_STATEMENT_FUNCTIONS set to TRUE. Comments
%% are modified.
%%
%% Revision 1.124  1998/07/24 16:01:02  irigoin
%% property PARSER_SUBSTITUTE_ENTRIES added
%%
%% Revision 1.123  1998/06/24 09:20:38  irigoin
%% String property SEMANTICS_FIX_POINT_OPERATOR added to replace boolean
%% property SEMANTICS_PATTERN_MATCHING_FIX_POINT
%%
%% Revision 1.122  1998/06/05 07:06:31  irigoin
%% comments added because I could not find the way to prettyprint all
%% CONTINUE statements: the property of interest is a more extensive property
%% called PRETTYPRINT_ALL_LABELS.
%%
%% Revision 1.121  1998/05/08 14:49:12  irigoin
%% Property SEMANTICS_FILTERED_PRECONDITIONS added
%%
%% Revision 1.120  1998/03/17 16:13:16  coelho
%% HPFC_OPTIMIZE_REMAPPINGS added.
%%
%% Revision 1.119  1998/03/10 14:36:27  irigoin
%% Property PRETTYPRINT_ALL_PARENTHESES added
%%
%% Revision 1.118  1998/03/10 14:18:55  irigoin
%% New property added, CHAINS_DISAMBIGUATE_CONSTANT_SUBSCRIPTS.
%%
%% Revision 1.117  1998/03/05 14:32:24  irigoin
%% New property added: PARSER_SUBSTITUTE_ASSIGNED_GOTO FALSE
%%
%% Revision 1.116  1998/02/03 09:50:29  ancourt
%% PRETTYPRINT_WITH_COMMON_NAMES property
%%
%% Revision 1.115  1997/12/12 12:15:35  coelho
%% TPIPS_IS_A_SHELL added.
%%
%% Revision 1.114  1997/12/05 19:50:59  coelho
%% comments added about PIPSMAKE_CHECKPOINTS.
%%
%% Revision 1.113  1997/12/05 17:34:26  coelho
%% PIPSMAKE_CHECKPOINTS...
%%
%% Revision 1.112  1997/12/05 11:34:18  coelho
%% PIPSMAKE_SAVE_RESOURCES added.
%% GENERATE_MISSING_SOURCE_FILE dropped.
%%
%% Revision 1.111  1997/12/05 07:58:57  coelho
%% PREPROCESSOR_MISSING_FILE_HANDLING added.
%%
%% Revision 1.110  1997/11/21 12:28:59  coelho
%% prettyprint of parallel loops is now managed thru only one property
%% which describe the style to be used. typically do, doall, f90, hpf and
%% so. I do this before adding the new omp (Open MP) style. The previous
%% state was driven by a set of boolean properties.
%%
%%

\documentclass[a4paper]{article}
%\usepackage{alltt,html,fancybox,amstext,xspace,psfig}
\usepackage{psfig,amstext,alltt,html}
\title{Properties \\
    Low Level Tuning of PIPS}
\author{Lei Zhou \hspace{2cm} 
        Fran\c{c}ois Irigoin\thanks{E-mail: {\tt irigoin@cri.ensmp.fr}} \vspace{1cm}\\
        Centre de Recherche en Informatique \\
        Ecole des Mines de Paris \\
        77305 Fontainebleau Cedex \\
        France \\}
% \date{\today (Initial version: October 1991)}
\date{
$~$Date: 2002/07/01 09:29:54 $~$
}

% \addtolength{\textwidth}{72pt}
% \addtolength{\oddsidemargin}{-48pt}
% \addtolength{\evensidemargin}{-48pt}
% \addtolength{\textheight}{172pt}
% \addtolength{\topmargin}{-60pt}

\newcommand{\PIPS}{\htmladdnormallink{{\em PIPS}}{http://www.cri.ensmp.fr/pips}}
\newcommand{\PIPSMAKE}{\htmladdnormallink{\emph{pipsmake/}}{http://www.cri.ensmp.fr/pips/pipsmake.html}}
\newcommand{\PLinear}{\emph{Linear C$^3$}}
\newcommand{\PNEWGEN}{\htmladdnormallink{\emph{NewGen}}{http://www.cri.ensmp.fr/pips/newgen-manual/newgen-manual.html}}
\newcommand{\PdaVinci}{\htmladdnormallink{\emph{daVinci}}{http://www.informatik.uni-bremen.de/~davinci}}
\newcommand{\Pri}{\htmladdnormallink{\emph{Internal\space{}Representation}}{http://www.cri.ensmp.fr/pips/ri/ri.html}}
\newcommand{\WPsc}{\htmladdnormallink{\emph{WP65}}{http://www.cri.ensmp.fr/pips/wp65.html}}

%% Now the interface names :
\newcommand{\pips}{\htmladdnormallink{\texttt{pips}}{http://www.cri.ensmp.fr/pips/batch-interface.html}}
\newcommand{\EPIPS}{\htmladdnormallink{\texttt{epips}}{http://www.cri.ensmp.fr/pips/wpips-epips-user-manual/wpips-epips-user-manual.html}}
\newcommand{\TPIPS}{\htmladdnormallink{\texttt{tpips}}{http://www.cri.ensmp.fr/pips/line-interface.html}}
\newcommand{\WPIPS}{\htmladdnormallink{\texttt{wpips}}{http://www.cri.ensmp.fr/pips/wpips-epips-user-manual/wpips-epips-user-manual.html}}
\newcommand{\Init}{\htmladdnormallink{\texttt{Init}}{http://www.cri.ensmp.fr/pips/Init.html}}
\newcommand{\Select}{\htmladdnormallink{\texttt{Select}}{http://www.cri.ensmp.fr/pips/Select.html}}
\newcommand{\Perform}{\htmladdnormallink{\texttt{Perform}}{http://www.cri.ensmp.fr/pips/Perform.html}}
\newcommand{\Display}{\htmladdnormallink{\texttt{Display}}{http://www.cri.ensmp.fr/pips/Display.html}}
\newcommand{\Delete}{\htmladdnormallink{\texttt{Delete}}{http://www.cri.ensmp.fr/pips/Delete.html}}

\makeindex

\begin{document}
\thispagestyle{empty}


\maketitle

% \begin{abstract}
% \end{abstract}

%%
%% INTRO
%%


\begin{latexonly}
  \clearpage
  \tableofcontents  
\end{latexonly}

\newpage

\section*{Introduction}

This paper describes global variables used to modify or fine tune PIPS
behavior. Since global variables are useful for some purposes, but
always dangerous, PIPS programmers are required to declare them
explicitly as {\em properties}. Properties have an ASCII name and can
have boolean, integer or string values.

% The information here is machine and/or site independent.

Casual users should not use them. Properties are modified for them by
the user interface and/or the high-level functions.

Experienced users can modify properties by inserting a file called
\verb+properties.rc+ in their local directory. Of course, they cannot
declare new properties, since they would not be recognized by the PIPS
system. The local property file is read {\em after} the default property
file, \verb+$PIPS_ROOT/Share/properties.rc+.
% $ emacs latex environment does not know about \verb
Some user-specified property
values may be ignored because they are modified by a PIPS function before
it had a chance to have any effect. Unfortunately, there is no explicit
indication of usefulness for the properties in this report.

The default property file can be used to generate a custom version of
properties.rc. It is derived automatically from
\verb+Documentation/properties-rc.tex+.

PIPS behavior can also be altered by Shell environment variables. Their
generic names is \verb+XXXX_DEBUG_LEVEL+, where \verb+XXXX+ is a library
or a phase or an interface name (of course, there are
exceptions). Theoretically these environment variables are also declared
as properties, but this is generally forgotten by programmers. A debug
level of 0 is equivalent to no tracing. The amount of tracing increases
with the debug level. The maximum useful value is 9.

Another Shell environment variable, \verb+NEWGEN_MAX_TABULATED_ELEMENTS+,
is useful to analyze large programs. Its default value is 12,000 but it is
not uncommon to have to set it up to 200,000.

Properties are listed below on a source library basis. The outline is
close to the outline of \PIPSMAKE{}.  Properties used in more than
one library are presented first. Section~\ref{section-pips-infrastructure}
contains information about infrastructure, external and user interface
libraries. Analyses are grouped in Section~\ref{section-analyses}. Program
transformations, parallelization and distribution phases are listed in the
next section. User output produced by different kinds of prettyprinters
are presented in Section~\ref{section-prettyprinters}.
Section~\ref{section-feautrier} is dedicated to libraries added by CEA to
implement Feautrier's method.

Virtually every PIPS programmer contributed some lines in this
report. Inconsistencies are likely. Please report them to the PIPS team!

%%
%% GLOBAL
%%

\section{Global Options}

Are DO loops bodies executed at least once (F-66 style), or not (Fortran~77)?
This is useful for use/def and semantics analysis but is not used for
region analyses. This dangerous property should be set to FALSE.

\begin{verbatim}
ONE_TRIP_DO FALSE
\end{verbatim}

\subsection{Logging}
\index{Logging}
\index{LOG\_TIMINGS}
\index{LOG\_MEMORY\_USAGE}

It is possible to display the amount of real, cpu and system times
directly spent in each phase as well as the times spent reading/writing data
structures from/to PIPS database. The default value of this property is
\verb+FALSE+. The computation of total time used to complete a
\verb+pipsmake+ request is broken down into global times, a set of phase times
which is the accumulation of the times spent in each phase, and a set of
IO times, also accumulated thru phases. 

Note that the IO times are included in the phase times.

\begin{verbatim}
LOG_TIMINGS FALSE
\end{verbatim}

It is possible to log the amount of memory used by each phase and by
each request. This is mainly useful to check if a computation can be
performed on a given machine. This memory log can also be used to track memory
leaks.

\begin{verbatim}
LOG_MEMORY_USAGE FALSE
\end{verbatim}



%%
%% PIPS META
%%

\section{PIPS Infrastructure}
\label{section-pips-infrastructure}

\subsection{Newgen}
\index{NewGen}
\index{Debugging}

Newgen offers some debugging support to check object consistency
(\verb+gen_consistent_p+ and \verb+gen_defined_p+), and for dynamic type
checking. See Newgen documentation\cite{JT89}\cite{JT90}.

\subsection{C3 Linear Library}
\index{C3 Linear Library}

This library is external and offers an independent debugging system.

\subsection{PipsMake}
\index{Pipsmake}
\index{CHECK\_RESOURCE\_USAGE}
\index{ACTIVATE\_DEL\_DERIVED\_RES}
\index{PIPSMAKE\_CHECKPOINTS}
\index{checkpoint}

It is possible to log and report differences between the set of resources
actually read and written by the procedures called by pipsmake and the set
of resources declared as read or written in pipsmake.rc file.

\begin{verbatim}
CHECK_RESOURCE_USAGE FALSE
\end{verbatim}

The rule activation process may delete from the database all the
derived resources from the newly activated rule to make sure that
non-consistent resources cannot be used by accident.

\begin{verbatim}
ACTIVATE_DEL_DERIVED_RES TRUE
\end{verbatim}

How often resources should be saved and freed. $0$ means never, and 
a positive value means every $n$ applications of a rule. This feature
was added to allow long big automatic tpips scripts that can coredump and
be restarted latter on close to the state before the core. As another side
effect, it allows to free the memory and to keep memory consumption as
moderate as possible, as opposed to usual tpips runs which keep all
memory allocated. Note that it should not be too often saved, because it
may last a long time, especially when entities are considered on big
workspaces. The frequency may be adapted in a script, rarely at the
beginning to more often latter.

\begin{verbatim}
PIPSMAKE_CHECKPOINTS 0
\end{verbatim}

\subsection{PipsDBM}
\index{Pipsdbm}
\index{PIPSDBM\_RESOURCES\_TO\_DELETE}

Shell environment variables \verb+PIPSDBM_DEBUG_LEVEL+ can be set to ?
to check object consistency when they are stored in the database, and to
? to check object consistency when they are stored or retrieved (in case
an intermediate phase has corrupted some data structure unwillingly).

You can control what is done when a workspace is closed and resources are
save. The property can be set to to "obsolete" (default option) or to "all".

Note that it is not managed from pipsdbm but from pipsmake which knows
what is obsolete or not.

\begin{verbatim}
PIPSDBM_RESOURCES_TO_DELETE "obsolete"
\end{verbatim}


\subsection{Top Level Control}
\index{Top Level}
\index{Logging}
\index{Abort}
\index{USER\_LOG\_P}
\index{ABORT\_ON\_USER\_ERROR}

Print a log of the session

\begin{verbatim}
USER_LOG_P      TRUE
\end{verbatim}

What to do on user errors: go ahead (default) or core dump (debug)

\begin{verbatim}
ABORT_ON_USER_ERROR     FALSE
\end{verbatim}

\subsection{Tpips Command Line Interface}
\index{Tpips}
\index{TPIPS\_NO\_EXECUTION\_MODE}
\index{TPIPS\_IS\_A\_SHELL}

\TPIPS{} is one of PIPS user interfaces.

Shall we execute the instructions of just check the syntax:

\begin{verbatim}
TPIPS_NO_EXECUTION_MODE      FALSE
\end{verbatim}

Whether \texttt{tpips} should behave as an extended shell.

\begin{verbatim}
TPIPS_IS_A_SHELL             FALSE
\end{verbatim}


\subsection{Warning Control}
\index{Warning}
\index{NO\_USER\_WARNING}
\index{WARNING\_ON\_STAT\_ERROR}
\index{WARN\_ABOUT\_EMPTY\_SEQUENCES}

User warnings may be turned off. Definitely, this is not the default
option! Most warnings {\em must} be read to understand surprising results.
This property is used by library \verb/misc/.

\begin{verbatim}
NO_USER_WARNING FALSE
\end{verbatim}

By default, \PIPS{} reports errors generated by system call \verb/stat/
which is used in library \verb/pipsdbm/ to check the time a resource has
been written and hence its temporal consistency.

\begin{verbatim}
WARNING_ON_STAT_ERROR TRUE
\end{verbatim}

Control restructuring eliminates empty sequences but as empty true or
false branch of structured \verb/IF/. This semantic property of \Pri{}
is enforced by libraries \verb/effects/,
\verb/regions/, \verb/hpfc/, \verb/effects-generic/.

\begin{verbatim}
WARN_ABOUT_EMPTY_SEQUENCES FALSE
\end{verbatim}


\subsection{Preprocessing}
\label{subsection-preprocessing}
\index{Preprocessing}
\index{CHECK\_FORTRAN\_SYNTAX\_BEFORE\_PIPS}
\index{PREPROCESSOR\_MISSING\_FILE\_HANDLING}
\index{Missing file}

FC: could you please check the consistency between the next property and the
preprocessing section in pipsmake-rc.tex?

\begin{verbatim}
CHECK_FORTRAN_SYNTAX_BEFORE_PIPS FALSE
\end{verbatim}

\PIPS{} requires source code for all leaves in its visible call graph. By
default, a user error is raised by Function \verb/initializer/ if a user
request cannot be satisfied because some source code is missing. It also
is possible to generate some synthetic code (a.k.a. {\em stubs} or ???)
and to update the current module list but this is not a very satisfying
option because all interprocedural analysis results are going to be wrong.
The user should retrieve the generated \verb/.f/ files in the workspace,
under the Tmp directory, and add some assignments (def) and uses. The user
modified synthetic files should then be saved and used to generate a new
workspace. 

Valid settings: \verb|error generate query|.

\begin{verbatim}
PREPROCESSOR_MISSING_FILE_HANDLING "error"
\end{verbatim}



%%
%% ANALYSES
%%

\section{Analyses}
\label{section-analyses}
\index{Analysis}

\subsection{Parser}
\index{Parser}

\subsubsection{Input Format}
\index{PARSER\_WARN\_FOR\_COLUMNS\_73\_80}

Some subtle errors occur because the PIPS parser uses a fixed
format. Columns 73 to 80 are ignored, but the parser may emit a warning
if some characters are encountered in this comment field.

\begin{verbatim}
PARSER_WARN_FOR_COLUMNS_73_80   TRUE
\end{verbatim}

\subsubsection{ANSI extension}
\index{PARSER\_ACCEPT\_ANSI\_EXTENSIONS}
\index{correctness}

PIPS has been initially developed to parse correct Fortran compliant
programs only. Real applications use lots of ANSI extensions... and they
are not always correct! To make sure that PIPS output is correct, the
input code should be checked against ANSI extensions using property 
\begin{quote}
CHECK\_FORTRAN\_SYNTAX\_BEFORE\_PIPS
\end{quote}
(see Section~\ref{subsection-preprocessing}) and the property below should
be set to false.

\begin{verbatim}
PARSER_ACCEPT_ANSI_EXTENSIONS TRUE
\end{verbatim}

Currently, this property is not used often enough in PIPS parser which let
go many mistakes... as expected by real users!

\subsubsection{Type Checking}
\index{Type Checking}
\index{PARSER\_TYPE\_CHECK\_CALL\_SITES}

Each argument list at calls to a function or a subroutine is compared to
the functional type of the callee. Turn this off if you need to support
variable numbers of arguments or if you use overloading and do not want to
hear about it. For instance, an IO routine can be used to write an array
of integers or an array of reals or an array of complex if the length
parameter is appropriate.

Since the functional typing is shaky, let's turn it off by default!

\begin{verbatim}
PARSER_TYPE_CHECK_CALL_SITES   FALSE
\end{verbatim}

\subsubsection{Loop Header with Label}
\index{PARSER\_SIMPLIFY\_LABELLED\_LOOPS}
\index{PARSER\_LINEARIZE\_LOOP\_BOUNDS}

The PIPS implementation of Allen\&Kennedy algorithm cannot cope with
labeled DO loops because the loop, and hence its label, may be
replicated if the loop is distributed. The parser can generate an extra
\verb/CONTINUE/ statement to carry the label and produce a label-free
loop. This is not the standard option because \PIPS{} is designed to
output code as close as possible to the user source code.

\begin{verbatim}
PARSER_SIMPLIFY_LABELLED_LOOPS FALSE
\end{verbatim}

Most PIPS analyses work better if loop bounds are affine. It is sometimes
possible to improve results for non-affine bounds by assigning the bound
to an integer variables and by using this variable as bound.

\begin{verbatim}
PARSER_LINEARIZE_LOOP_BOUNDS FALSE
\end{verbatim}

\subsubsection{Entry}
\index{ENTRY}
index{PARSER\_SUBSTITUTE\_ENTRIES}

The entry construct can be seen as an early attempt at object-oriented
programming. The same object can be processed by several function. The
object is declared as a standard subroutine or function and entry points
are placed in the executable code. The entry points have different sets of
formal parameters, they may share some common pieces of code, they share
the declared variables, especially the static ones.

The entry mechanism is dangerous because of the flow of control between
entries. It is now obsolete and is not analyzed directly by PIPS. Instead
each entry may be converted into a first class function or subroutine and
static variables are gathered in a specific common. This is the default
option. If the substitution is not acceptable, the property may be turned
off and entries results in a parser error.

\begin{verbatim}
PARSER_SUBSTITUTE_ENTRIES TRUE
\end{verbatim}

\subsubsection{Alternate Return}
\index{Alternate Return}
\index{Return (Alternate)}
\index{PARSER\_SUBSTITUTE\_ALTERNATE\_RETURNS}
\index{PARSER\_RETURN\_CODE\_VARIABLE}
\index{PARSER\_FORMAL\_LABEL\_SUBSTITUTE\_PREFIX}
\index{PRETTYPRINT\_REGENERATE\_ALTERNATE\_RETURNS}

Alternate returns are put among the obsolete Fortran features by the
Fortran~90 standard. It is possible (1) to refuse them (option "NO"), or
(2) to ignore them and to replace alternate returns by {\tt STOP} (option
"STOP"), or (3) to substitute them by a semantically equivalent code based
on return code values (option "RC" or option "HRC"). Option (2) is useful
if the alternate returns are used to propagate error conditions. Option
(3) is useful to understand the impact of the alternate returns on the
control flow graph and to maintain the code semantics.  Option "RC" uses
an additional parameter while option "HRC" uses a set of PIPS run-time
functions to hide the set and get of the return code which make
declaration regeneration less useful. By default, the
first option is selected and alternate returns are refused.

To produce an executable code, the declarations must be
regenerated: see property \verb/PRETTYPRINT_ALL_DECLARATIONS/ in
Section~\ref{subsubsection-declarations}. This is not necessary with
option "HRC". Fewer new declarations are needed if variable
\verb/PARSER_RETURN_CODE_VARIABLE/ is implicitly integer because its first
letter is in the I-N range.

With option (2), the code can still be executed if alternate returns are
used only for errors and if no errors occur. It can also be analyzed to
understand what the {\em normal} behavior is. For instance, OUT regions
are more likely to be exact when exceptions and errors are ignored.

Formal and actual label variables are replaced by string variables to
preserve the parameter ordre and as much source information as possible.
See \verb/PARSER_FORMAL_LABEL_SUBSTITUTE_PREFIX/ which is used to generate
new variable names.

\begin{verbatim}
PARSER_SUBSTITUTE_ALTERNATE_RETURNS "NO"
PARSER_RETURN_CODE_VARIABLE "I_PIPS_RETURN_CODE_"
PARSER_FORMAL_LABEL_SUBSTITUTE_PREFIX "FORMAL_RETURN_LABEL_"
\end{verbatim}

The internal representation can be hidden and the alternate returns can be
prettyprinted at the call sites and modules declaration by turning on the
following property:

\begin{verbatim}
PRETTYPRINT_REGENERATE_ALTERNATE_RETURNS FALSE
PRETTYPRINT_REGENERATED_LABEL "12345"
\end{verbatim}

This is useful to link modules processed by PIPS with user modules using
the alternate return constructs if alternate returns are replaced by STOP
statement in the code processed by PIPS. The actual labels present in call
sites may be dead code eliminated and a fake non-conflicting label must be
used. It is defined by property \verb/PRETTYPRINT_REGENERATED_LABEL/.

If all modules have been processed by PIPS, it is possible not to
regenerate alternate returns and to use a code close to the internal
representation. If they are regenerated in the call sites and module
declaration, they are nevertheless not used by the code generated by PIPS
which is consistent with the internal representation.

Here is a possible implementation of the two PIPS run-time subroutines
required by the hidden return code ("HRC") option:

\begin{quote}
      subroutine SET\_I\_PIPS\_RETURN\_CODE\_(irc)\\
      common /PIPS\_RETURN\_CODE\_COMMON/irc\_shared\\
      irc\_shared = irc\\
      end\\
      subroutine GET\_I\_PIPS\_RETURN\_CODE\_(irc)\\
      common /PIPS\_RETURN\_CODE\_COMMON/irc\_shared\\
      irc = irc\_shared\\
      end
\end{quote}

Note that the subroutine names depend on the
\verb/PARSER_RETURN_CODE_VARIABLE/ property. They are generated by
prefixing it with \verb/SET_/ and \verb/GET_/. There implementation is
free. The common name used should not conflict with application common
names. The ENTRY mechanism is not used because it would be desugared by
PIPS anyway.

\subsubsection{Assigned GO TO}
\index{Assigned GO TO}
\index{GO TO (Assigned)}
\index{Computed GO TO}
\index{GO TO (Computed)}
\index{PARSER\_SUBSTITUTE\_ASSIGNED\_GOTO}

By default, assigned GO TO and ASSIGN statements are not accepted.
These constructs are obsolete and will not be part of future Fortran
standards.

However, it is possible to replace them automatically in a way similar to
computed GO TO. Each ASSIGN statement is replaced by a standard integer
assignment. The label is converted to its numerical value. When an
assigned GO TO with its optional list of labels is encountered, it is
transformed into a sequence of logical IF statement with appropriate tests
and GO TO's. According to Fortran 77 Standard, Section 11.3, Page 11-2,
the control variable must be set to one of the labels in the optional
list. Hence a STOP statement is generated to interrupt the execution in case
this happens, but note that compilers such as SUN f77 and g77 do not check
this condition at run-time (it is undecidable statically).

\begin{verbatim}
PARSER_SUBSTITUTE_ASSIGNED_GOTO FALSE
\end{verbatim}

Assigned GO TO without the optional list of labels are not processed. In
other words, PIPS make the optional list mandatory for substitution. It
usually is quite easy to add manually the list of potential targets.

Also, ASSIGN statements cannot be used to define a FORMAT label. If the
desugaring option is selected, an illegal program is produced by PIPS
parser.


\subsubsection{Symbol Table}
\index{Symbol Table}
\index{PARSER\_DUMP\_SYMBOL\_TABLE}

For debugging purposes, it is possible to print a summary of the symbol
table. But this is not the default option.

\begin{verbatim}
PARSER_DUMP_SYMBOL_TABLE FALSE
\end{verbatim}

\subsubsection{Statement Function}
\index{Statement Function}
\index{PARSER\_EXPAND\_STATEMENT\_FUNCTIONS}

This property controls the processing of Fortran statement functions by text
substitution in the parser. No other processing is available and the
parser stops with an error message when a statement function declaration
is encountered.

The default used to be not to perform this unchecked replacement, which might 
change the semantics of the program because type coercion is not enforced
and actual parameters are not assigned to intermediate variables.
However most statement functions do not require these extra-steps and it
is legal to perform the textual substitution. For user convenience, the
default option is textual substitution.

Note that the parser does not have enough information to check the validity
of the transformation, but a warning is issued if legality is doubtful. If
strange results are obtained when executing codes transformed with PIPS,
his property should be set to false.

A better method would be to represent them somehow a local functions in
the internal representation, but the implications for \texttt{pipsmake}
and other issues are clearly not all foreseen\ldots (Fabien Coelho).

\begin{verbatim}
PARSER_EXPAND_STATEMENT_FUNCTIONS TRUE
\end{verbatim}


\subsection{Controlizer}
\index{Controlizer}
\index{UNSPAGHETTIFY\_IN\_CONTROLIZER}

By unsetting this property \verb|unspaghettify| is not applied
implicitly in the controlizer phase.

\begin{verbatim}
UNSPAGHETTIFY_IN_CONTROLIZER   TRUE
\end{verbatim}



\subsection{Chains}
\index{Use-Def Chains}
\index{Def-Use Chains}
\index{Def-Def Chains}
\index{Use-Use Chains}

\subsubsection{Add use-use Chains}
\index{KEEP\_READ\_READ\_DEPENDENCE}

It is possible to put use-use dependence arcs in the dependence graph.
This is useful for estimation of cache memory traffic and of
communication for distributed memory machine (e.g. you can parallelize
only communication free loops). Beware of use-use dependence on scalar
variables. You might expect scalars to be broadcasted and/or replicated
on each processor but they are not handled that way by the
parallelization process unless you manage to have them
declared private with respect to all enclosing loops.

This feature is not supported by PIPS user interfaces. Results may be
hard to interpret. It is useful to print the dependence graph.

\begin{verbatim}
KEEP_READ_READ_DEPENDENCE FALSE
\end{verbatim}

\subsubsection{Remove Some Chains}
\index{CHAINS\_MASK\_EFFECTS}
\index{CHAINS\_DATAFLOW\_DEPENDENCE\_ONLY}

It is possible to mask effects on local variables in loop bodies. This
is dangerous with current version of Allen \& Kennedy which assumes that
all the edges are present, the ones on private variables being
partially ignored but for loop distribution. In other words, this
property should always be set to \verb+false+.

\begin{verbatim}
CHAINS_MASK_EFFECTS FALSE
\end{verbatim}

It also is possible to keep only true dataflow (Def -- Use) dependences in
the dependence graph. This was an attempt at mimicking the effect of
direct dependence analysis and at avoiding privatization. However, {\em
direct} dependence analysis is not implemented in the standard tests and
spurious def-use dependence arcs are taken into account.

\begin{verbatim}
CHAINS_DATAFLOW_DEPENDENCE_ONLY FALSE
\end{verbatim}

These last two properties are not consistent with PIPS current development
(1995/96). It is assumed that {\em all} dependence arcs are present in the
dependence graph. Phases using the latter should be able to filter out
irrelevant arcs, e.g. pertaining to privatized variables.

\subsubsection{Disambiguation Test}
\index{Alias}
\index{CHAINS\_DISAMBIGUATE\_CONSTANT\_SUBSCRIPTS}

The default disambiguation test is based on variables names. Array and
scalar variables are handled in the same way. However it is possible to
refine the chain graph by using {\em constant} subscript expressions.

\begin{verbatim}
CHAINS_DISAMBIGUATE_CONSTANT_SUBSCRIPTS FALSE
\end{verbatim}

\subsection{Effects}
\index{Effects (Memory)}
\index{Memory Effects}
\index{EFFECTS\_PRINT\_SDFI}

Print SDFI just after computation:

\begin{verbatim}
EFFECTS_PRINT_SDFI TRUE
\end{verbatim}

Filter this variable in phase \texttt{filter\_proper\_effects}.

\begin{verbatim}
EFFECTS_FILTER_ON_VARIABLE ""
\end{verbatim}

\subsection{Dependence Test (Ricedg)}
\index{Dependence Test}

% Module code and list of called module names.

\subsubsection{Dependence Test Selection}
\index{Dependence Test}
\index{DEPENDENCE\_TEST}

This property seems to be now obsolete. The dependence test choice is
now controlled directly and only by rules in \PIPSMAKE{}. The procedures
called by these rules may use this property. Anyway, it is useless to
set it manually.

\begin{verbatim}
DEPENDENCE_TEST "full"
\end{verbatim}


\subsubsection{Statistics}
\index{Dependence test statistics}
\index{Statistics (Dependence test)}
\index{RICEDG\_PROVIDE\_STATISTICS\ FALSE}
\index{RICEDG\_STATISTICS\_ALL\_ARRAYS}

Provide the following counts during the dependence test. There are three
parts: numbers of dependencies and independences (fields 1-10),
dimensions of referenced arrays and dependence natures (fields 11-25)
and the same information for constant dependencies (fields 26-40),
decomposition of the dependence test in elementary steps (fields 41-49),
use and complexity of Fourier-Motzkin's pair-wise elimination (fields
50, 51 and 52-68).

\begin{itemize}

  \item[1] array reference pairs, i.e. number of tests effected
    (used to be the number of use-def, def-use and def-def pairs on arrays);

  \item[2] number of independences found (on array reference pairs);

    {\bf Note:} field 1 minus field 2 is the number of array
    dependencies. 

  \item[3] numbers of loop independent dependences between references
    in the  same statement (not useful for program transformation
    and parallelization if statements are preserved); it should
    be subtracted from field 2 to compare results with other
    parallelizers;

  \item[4] numbers of constant dependences; 

  \item[5] numbers of exact dependences;

    {\bf Note:} field 5 must be greater or equal to field 4.

  \item[6] numbers of inexact dependences involved only by the 
           elimination of equation;
  \item[7] numbers of inexact dependences involved only by the F-M
           elimination;
  \item[8] numbers of inexact dependences involved by both elimination of
           equation and F-M elimination; 

    {\bf Note:} the sum of fields 5 to 8 and field 2 equals field 1

  \item[9] number of dependences among scalar variables;
  \item[10] numbers of dependences among loop index variables;
  \item[11-40] dependence types detail table with the dimensions [5][3]
               and constant dependence detail table with the
               dimensions [5][3]; the first index is the array dimension
    (from 0 to 4 - no larger arrays has ever been found); the
    second index is the dependence nature (1: d-u, 2: u-d, 3: d-d);
    both arrays are flatten according to C rule  as 5 sequences of
    3 natures;

    {\bf Note:} the sum of fields 11 to 25 should be equal to
    the sum of field 9 and 2 minus field 1.

    {\bf Note:} the fields 26 to 40 must be less than or equal to
    the corresponding fields 11 to 25

  \item[41] numbers of independences found by the test of constant;
  \item[42] numbers of independences found by the GCD test;
  \item[43] numbers of independences found by the normalize test;
  \item[44] numbers of independences found by the lexico-positive test
             for constant Di variables;
  \item[45] numbers of independences found during the projection on Di
            variables by the elimination of equation;
  \item[46] numbers of independences found during the projection on Di
            variables by the Fourier-Motzkin's elimination;
  \item[47] numbers of independences found during the test of
            faisability of  Di sub-system by the elimination of equation;
  \item[48] numbers of independences found during the test of
            faisability of Di sous-system by the Fourier-Motzkin's
            elimination; 
  \item[49] numbers of independences found by the test of lexico-positive
            for Di sub-system; 

    {\bf Note:} the sum of fields 41 to 49 equals field 2

  \item[50] total number of Fourier-Motzkin's pair-wise eliminations
     used; 
  \item[51] number of Fourier-Motzkin's pair-wise elimination 
    in which the system size doesn't augment after the elimination;
  \item[52-68] complexity counter table of dimension [17]. The
               complexity of one projection by F-M is the product of the
               number of positive inequalities and the number of negatives
               inequalities that contain the eliminated variable. This
    is an histogram of the products. Products which are less than 
    or equal to 4
    imply that the total number of inequalities does not increase.
    So if no larger product exists, field 50 and 51 must be equal.
\end{itemize}

The results are stored in the current workspace in MODULE.resulttestfast,
MODULE.resultesttestfull, or MODULE.resulttestseman according to the
test selected.

\begin{verbatim}
RICEDG_PROVIDE_STATISTICS FALSE
\end{verbatim}

Provide the statistics above and count all array reference pairs
including these involved in call statement.

\begin{verbatim}
RICEDG_STATISTICS_ALL_ARRAYS FALSE
\end{verbatim}

\subsubsection{Algorithmic Dependences}
\index{Def-Use Chains}
\index{RICE\_DATAFLOW\_DEPENDENCE\_ONLY}

Only take into account true flow dependences (Def -- Use) during the
computation of SCC?  Note that this is different from the
CHAINS\_DATAFLOW\_DEPENDENCE\_ONLY option which doesn't compute the
whole graph.  Warning: this option potentially yields incorrect parallel
code.

\begin{verbatim}
RICE_DATAFLOW_DEPENDENCE_ONLY FALSE
\end{verbatim}

\subsubsection{Printout}
\index{Dependence Graph}
\index{Prettyprinter (DG)}
\index{DG Prettyprinter}
\index{PRINT\_DEPENDENCE\_GRAPH}
\index{PRINT\_DEPENDENCE\_GRAPH\_WITHOUT\_PRIVATIZED\_DEPS}
\index{PRINT\_DEPENDENCE\_GRAPH\_WITHOUT\_NOLOOPCARRIED\_DEPS}
\index{PRINT\_DEPENDENCE\_GRAPH\_WITH\_DEPENDENCE\_CONES}
\index{PRINT\_DEPENDENCE\_GRAPH\_USING\_SRU\_FORMAT}

Here are the properties used to control the printing of dependence
graphs in a file called {\em module\_name}.{\tt dg}. These properties
should not be used explicitly because they are set implicitly by the
different print-out procedures available in \verb/pipsmake.rc/. However,
not all combinations are available from \verb/pipsmake.rc/.

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH FALSE
\end{verbatim}

To print the dependence graph without the dependences on privatized
variables 

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_WITHOUT_PRIVATIZED_DEPS FALSE
\end{verbatim}

To print the dependence graph without the non-loop-carried dependences:
 
\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_WITHOUT_NOLOOPCARRIED_DEPS FALSE
\end{verbatim}

To print the dependence graph with the dependence cones:

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_WITH_DEPENDENCE_CONES FALSE
\end{verbatim}

To print the dependence graph in a computer friendly format defined by
Deborah Whitfield (SRU):

\begin{verbatim}
PRINT_DEPENDENCE_GRAPH_USING_SRU_FORMAT FALSE
\end{verbatim}

\subsubsection{Optimization}
\index{COMPUTE\_ALL\_DEPENDENCES}

The default option is to compute the dependence graph only for loops
which can be parallelized using Allen \& Kennedy algorithm.  However it
is possible to compute the dependences in all cases, even for loop
containing test, goto, etc...  by setting this option to TRUE.

Of course, this information is not used by the parallelization phase
which is restricted to loops meeting the A\&K conditions. By the way,
the hierarchical control flow graph is not exploited either by the
parallelization phase.

\begin{verbatim}
COMPUTE_ALL_DEPENDENCES FALSE
\end{verbatim}

\subsection{Flinter}
\index{Flinter}

No property for this library.


\subsection{Semantic Analysis}
\label{subsection-semantic-analysis}
\index{Semantics}
\index{Precondition}
\index{Transformer}


\subsubsection{Value types}
\index{SEMANTICS\_ANALYZE\_SCALAR\_INTEGER\_VARIABLES}
\index{SEMANTICS\_ANALYZE\_SCALAR\_BOOLEAN\_VARIABLES}
\index{SEMANTICS\_ANALYZE\_SCALAR\_STRING\_VARIABLES}
\index{SEMANTICS\_ANALYZE\_SCALAR\_FLOAT\_VARIABLES}

By default, the semantic analysis is restricted to scalar integer
variables as they are key variables to understand scientific code
behavior. However it is possible to analyze scalar variables with other
data types. Fortran LOGICAL variables are represented as 0/1
integers. Character string constants and floating point constants are
represented as undefined values. 

The analysis is thus limited to constant propagation for character strings
and floating point values whereas integer and boolean variables are
processed with a relational analysis.

Character string constants of fixed maximal length could be translated
into integers but the benefit is not yet assessed because they are not
much used in the benchmark and commercial applications we have studied.
The risk is to increase significantly the number of overflows encountered
during the analysis.

\begin{verbatim}
SEMANTICS_ANALYZE_SCALAR_INTEGER_VARIABLES TRUE
\end{verbatim}

\begin{verbatim}
SEMANTICS_ANALYZE_SCALAR_BOOLEAN_VARIABLES FALSE
\end{verbatim}

\begin{verbatim}
SEMANTICS_ANALYZE_SCALAR_STRING_VARIABLES FALSE
\end{verbatim}

\begin{verbatim}
SEMANTICS_ANALYZE_SCALAR_FLOAT_VARIABLES FALSE
\end{verbatim}

\begin{verbatim}
SEMANTICS_ANALYZE_SCALAR_COMPLEX_VARIABLES FALSE
\end{verbatim}

\subsubsection{Array declarations and accesses}
\index{SEMANTICS\_TRUST\_ARRAY\_DECLARATIONS}
\index{SEMANTICS\_TRUST\_ARRAY\_REFERENCES}

For every module, array declaration are assumed to be correct with respect
to the standard: the upper bound must be greater than or equal to the
lower bound. When implicit, the lower bound is one. The star upper bound
is neglected.

This property is turned off by default because it might slow down PIPS
quite a lot without adding any useful information because loop bounds are
usually different from array bounds.

\begin{verbatim}
SEMANTICS_TRUST_ARRAY_DECLARATIONS FALSE
\end{verbatim}

For every module, array references are assumed to be correct with respect
to the declarations: the subscript expressions must have values lower than
or equal to the upper bound and greater than or equal to the lower bound.

This property is turned off by default because it might slow down PIPS
quite a lot without adding any useful information.

\begin{verbatim}
SEMANTICS_TRUST_ARRAY_REFERENCES FALSE
\end{verbatim}

\subsubsection{Flow Sensitivity}
\index{Flow Sensitivity}
\index{SEMANTICS\_FLOW\_SENSITIVE}

Perform ``meet'' operations for semantics analysis. This property is
managed by \PIPSMAKE{}.

\begin{verbatim}
SEMANTICS_FLOW_SENSITIVE FALSE
\end{verbatim}


\subsubsection{Contexte for statement and expression transformers}
\index{Expression}
\index{Transformer}
\index{}

Without preconditions, transformers can be precise only for affine
expressions. Approximate transformers can sometimes be derived for other
expressions, involving for instance products of variables or divisions.

However, a precondition of an expression can be used to refine the
approximation. For instance, some non-linear expressions can become affine
because some of the variables have constant values, and some non-linear
expressions can be better approximated because the variables signs or
ranges are known.

To be backward compatible and to be conservative for PIPS execution time,
the default value is false.

Not implemented yet.

\begin{verbatim}
SEMANTICS_RECOMPUTE_EXPRESSION_TRANSFORMERS FALSE
\end{verbatim}

Intraprocedural preconditions can be computed at the same time as
transformers and used to improve the accuracy of expression and statement
transformers. Non-linear expressions can sometimes have linear
approximations over the subset of all possible stores defined by a
precondition. In the same way, the number of convex hulls can be reduced
if a test branch is never used or if a loop is always entered.

\begin{verbatim}
SEMANTICS_COMPUTE_TRANSFORMERS_IN_CONTEXT FALSE
\end{verbatim}

The default value is false for reverse compatibility and for speed.

\subsubsection{Interprocedural Semantics Analysis}
\index{Interprocedural}
\index{SEMANTICS\_INTERPROCEDURAL}

To be refined later; basically, use callee\'s transformers instead of
callee\'s effects when computing transformers bottom-up in the call graph;
when going top-down with preconditions, should we care about unique
call site and/or perform meet operation on call site preconditions ?

\begin{verbatim}
SEMANTICS_INTERPROCEDURAL FALSE
\end{verbatim}

This property is used internally and is not user selectable.

\subsubsection{Fix Point Operators}
\index{Fix Point}
\index{SEMANTICS\_FIX\_POINT}
\index{SEMANTICS\_FIX\_POINT\_OPERATOR}
\index{SEMANTICS\_INEQUALITY\_INVARIANT}
\index{SEMANTICS\_RECOMPUTE\_FIX\_POINTS\_WITH\_PRECONDITIONS}

CPU time and memory space are cheap enough to compute loop fix points for
{\em transformers}. This property implies SEMANTICS\_FLOW\_SENSITIVE and is not
user-selectable. Its default value is {\em false}.

\begin{verbatim}
SEMANTICS_FIX_POINT FALSE
\end{verbatim}

The default fix point operator, called {\em transfer}, is good for
induction variables but it is not good for all kinds of code. The default
fix point operator is based on the transition function associated to a
loop body. A computation of eigenvectors for eigenvalue 1 is used to
detect loop invariants. This fails when no transition function but only a
transition relation is available. Only equations can be found.

The second fix point operator, called {\em pattern}, is based on a pattern
matching of elementary equations and inequalities of the loop body
transformer. Obvious invariants are detected. This fix point operator is
not better than the previous one for induction variables but it can detect
invariant equations and inequalities.

A third fix point operator, called {\em derivative}, is based on finite
differences. It was developed to handled DO loops desugared into WHILE
loops as well as standard DO loops. The loop body transformer on variable
values is projected onto their finite differences. Invariants, both
equations and inequalities, are deduced directly from the constraints on
the differences and after integration. This third fix point operator
should be able to find at least as many invariants as the two previous
one, but at least some inequalities are missed because of the technique
used. For instance, constraints on a flip-flop variable can be missed.
Unlike Cousot-Halbwachs fix point (see below), it does not use Chernikova
steps and it should not slow down analyses.

This property is user selectable and its default value is {\em transfer}.
The default value is the only one which has been seriously validated.

\begin{verbatim}
SEMANTICS_FIX_POINT_OPERATOR "transfer"
\end{verbatim}

The property \verb+SEMANTICS_PATTERN_MATCHING_FIX_POINT+ has been removed
and replaced by option {\em pattern} of the previous property.

This property was defined to select one of Cousot-Halbwachs's heuristics
and to compute fix points with inequalities and equalities for loops.
These heuristics could be used to compute fix points for transformers
and/or preconditions. This option implies SEMANTICS\_FIX\_POINT and
SEMANTICS\_FLOW\_SENSITIVE.  It has not been implemented yet in
PIPS\footnote{But some fix point functions are part of the C3 linear
  library.} because its accuracy has not yet been required, but is now
badly named because there is no direct link between {\em inequality} and
{\em Halbwachs}. Its default value is {\em false} and it is not user
selectable.

\begin{verbatim}
SEMANTICS_INEQUALITY_INVARIANT FALSE
\end{verbatim}

Because of convexity, some fix points may be improved by using some of the
information carried by the preconditions. Hence, it may be profitable to
recompute loop fix point transformer when preconditions are being
computed.

The default value is false because this option slows down PIPS and does
not seem to add much useful information in general.

\begin{verbatim}
SEMANTICS_RECOMPUTE_FIX_POINTS_WITH_PRECONDITIONS FALSE
\end{verbatim}

\subsubsection{Prettyprint}
\index{SEMANTICS\_FILTERED\_PRECONDITIONS}

Preconditions reflect by default all knowledge gathered about the current
state (i.e. store). However, it is possible to restrict the information to
variables actually read or written, directly or indirectly, by the
statement following the precondition.

\begin{verbatim}
SEMANTICS_FILTERED_PRECONDITIONS FALSE
\end{verbatim}


\subsubsection{Debugging}
\index{Debug (Semantics)}
\index{SEMANTICS\_STDOUT}

Output semantics results on stdout

\begin{verbatim}
SEMANTICS_STDOUT FALSE
\end{verbatim}

Debug level for semantics used to be controlled by a property. A Shell
variable, \verb/SEMANTICS_DEBUG_LEVEL/, is used instead.

\subsection{Static Complexity Evaluation}
\index{Complexity}

The following properties control the static estimation of dynamic code
execution time.

\subsubsection{Debugging}
\index{Debug (Complexity)}
\index{COMPLEXITY\_TRACE\_CALLS}
\index{COMPLEXITY\_INTERMEDIATES}
\index{COMPLEXITY\_PRINT\_COST\_TABLE}

Trace the walk across a module's internal representation:

\begin{verbatim}
COMPLEXITY_TRACE_CALLS FALSE
\end{verbatim}

Trace all intermediate complexities:

\begin{verbatim}
COMPLEXITY_INTERMEDIATES FALSE
\end{verbatim}

Print the complete cost table at the beginning of the execution:

\begin{verbatim}
COMPLEXITY_PRINT_COST_TABLE FALSE
\end{verbatim}

The cost table(s) contain machine and compiler dependent information
about basic execution times, e.g. time for a load or a store.

\subsubsection{Fine Tuning}
\index{COMPLEXITY\_PARAMETERS}
\index{COMPLEXITY\_PRINT\_STATISTICS}

It is possible to specify a list of variables which must remain
literally in the complexity formula, although their numerical values
are known (this is OK) or although they have multiple unknown and
unrelated values during any execution (this leads to an incorrect
result).

Formal parameters and imported global variables are left unevaluated.

They have relatively high priority (FI: I do not understand this comment
by Lei).

This list should be empty by default (but is not for unknown historical
reasons):

\begin{verbatim}
COMPLEXITY_PARAMETERS "IMAX LOOP"
\end{verbatim}

Controls the printing of {\em accuracy} statistics:

\begin{itemize}

  \item 0: do not prettyprint any statistics with complexities (to give
the user a false sense of accuracy and/or to avoid cluttering his/her
display); this is the default value;

  \item 1: prettyprint statistics only for loop/block/test/unstr.
statements and not for basic statements, since they should not cause
accuracy problems;

  \item 2 : prettyprint statistics for all statements

\end{itemize}

\begin{verbatim}
COMPLEXITY_PRINT_STATISTICS 0
\end{verbatim}

\subsubsection{Target Machine and Compiler Selection}
\index{COMPLEXITY\_COST\_TABLE}

This property is used to select a set of basic execution times. These
times depend on the target machine, the compiler and the compilation
options used. It is shown in \cite{Z94} that fixed basic times can be
used to obtain accurate execution times, if enough basic times are
considered, and if the target machine has a simple RISC processor. For
instance, it is not possible to use only one time for a register
load. It is necessary to take into account the nature of the variable,
i.e. formal parameter, dynamic variable, global variable, and the nature
of the access, e.g. the dimension of an accessed array. The cache can be
ignored an replacer by an average hit ratio.

Different set of elementary cost tables are available:

\begin{itemize}

  \item \verb+all_1+: each basic operation cost is 1;

  \item \verb+fp_1+: only floating point operations are taken into
account and have cost unit 1; all other operations have a null cost.

\end{itemize}

In the future, we might add a sparc-2 table...

The different elementary table names are defined in
\verb+complexity-local.h+. They presently are \verb+operation+, 
\verb+memory+, \verb+index+, \verb+transcend+
and \verb+trigo+.

The different tables required are to be found in
\verb+$PIPS_LIBDIR/complexity/xyz+,
%% $
where \verb+xyz+ is specified by this property:

\begin{verbatim}
COMPLEXITY_COST_TABLE "all_1"
\end{verbatim}

\subsubsection{Evaluation Strategy}
\index{COMPLEXITY\_EARLY\_EVALUATION}

For the moment, we have designed two ways to solve the complexity
combination problem. Since symbolic complexity formulae use program
variables it is necessary to specify in which store they are
evaluated. If two complexity formulae are computed relatively to two
different stores, they cannot be directly added.

The first approach, which is implemented, uses the module initial store
as universal store for all formulae (but possibly for the complexity of
elementary statements).  In some way, symbolic variable are evaluated as
early as possible as soon as it is known that they won't make it in the
module summary complexity.

This first method is easy to implement when the preconditions are available
but it has at least two drawbacks:

\begin{itemize}

  \item if a variable is used in different places with the same unknown
value, each occurrence will be replaced by a different unknown value
symbol (the infamous \verb+UU_xx+ symbols in formulae).

  \item since variables are replaced by numerical values as soon as
possible as early as possible, the user is shown a numerical execution
time instead of a symbolic formulae which would likely be more useful
(see property \verb+COMPLEXITY_PARAMETERS+). This is especially true
with interprocedural constant propagation.

\end{itemize}

The second approach, which is not implemented, delay variable evaluation
as late as possible. Complexities are computed and given relatively to
the stores used by each statements. Two elementary complexities are combined
together using the earliest store. The two stores are related by a {\em
transformer} (see Section~\ref{subsection-semantic-analysis}). Such an
approach is used to compute {\tt MUST} regions as precisely as possible
(see Section~\ref{subsection-regions}).

A simplified version of the late evaluation was implemented. The initial
store of the procedure is the only reference store used as with the
early evaluation, but variables are not evaluated right away. They only
are evaluated when it is necessary to do so. This not an ideal solution,
but it is easy to implement and reduces considerably the number of
unknown values which have to be put in the formulae to have correct
results.


\begin{verbatim}
COMPLEXITY_EARLY_EVALUATION FALSE
\end{verbatim}

\subsection{Regions}
\label{subsection-regions}
\index{Array Region}
\index{Region (Array)}
\index{EXACT\_REGIONS}
\index{MUST\_REGIONS}
\index{REGIONS\_WITH\_ARRAY\_BOUNDS}
\index{DISJUNCT\_REGIONS}
\index{DISJUNCT\_IN\_OUT\_REGIONS}
\index{REGIONS\_OP\_STATISTICS}
\index{REGIONS\_TRANSLATION\_STATISTICS}

if {\tt MUST\_REGIONS} is true, then it computes regions using the
algorithm described in report E/181/CRI, called {\em $T^{-1}$
algorithm}. It provides more accurate regions, and preserve MUST
approximations more often. But it is less efficient. Its default value
is FALSE. EXACT\_REGIONS is true for the moment for backward
compatibility only.

\begin{verbatim}
EXACT_REGIONS TRUE
\end{verbatim}

\begin{verbatim}
MUST_REGIONS FALSE
\end{verbatim}

The default option is to compute regions without taking into account array
bounds. Both options have their advantages and drawbacks. 

\begin{verbatim}
REGIONS_WITH_ARRAY_BOUNDS FALSE
\end{verbatim}

Comments from Nga Nguyen: The explanation of this property is not clear

I intend to compute disjunctions of regions. As I have already prepared basic
operators for that purpose, I created two properties to switch between regions
and disjunctions of regions. For the moment, they are always false.

\begin{verbatim}
DISJUNCT_REGIONS FALSE
\end{verbatim}

\begin{verbatim}
DISJUNCT_IN_OUT_REGIONS FALSE
\end{verbatim}

Statistics may be obtained about the computation of array regions. When the first
property ({\tt REGIONS\_OP\_STATISTICS}) is set to ({\tt TRUE}) statistics are
provided about operators on regions (union, intersection,
projection,\dots). The second property turns on the collection of statistics
about the interprocedural translation.

\begin{verbatim}
REGIONS_OP_STATISTICS FALSE
\end{verbatim}

\begin{verbatim}
REGIONS_TRANSLATION_STATISTICS FALSE
\end{verbatim}




%%
%% TRANSFORMATIONS
%%

\section{Transformations, Parallelization, Distribution}
\label{section-transformations}
\index{Transformation}


\subsection{Parallelization}
\index{Parallelization}

\subsubsection{Rice (Parallelization)}
\index{Allen\&Kennedy}
\index{GENERATE\_NESTED\_PARALLEL\_LOOPS}
\index{PARALLELIZATION\_STATISTICS}

TRUE to show all parallel loops, FALSE to generate real (vector,
innermost parallel?) code

\begin{verbatim}
GENERATE_NESTED_PARALLEL_LOOPS TRUE
\end{verbatim}

Show statistics on the number of loops parallelized by pips.
\begin{verbatim}
PARALLELIZATION_STATISTICS FALSE
\end{verbatim}

\subsubsection{Coarse grain Parallelization}

No property.

\subsubsection{Nested Loop Parallelization}

No property.

\subsection{Code Distribution}
\index{Distribution (Code)}
\index{Code Distribution}

\subsubsection{WP65 (PUMA Project)}
\index{WP65}

\subsubsection{HPFC {\em High Performance Fortran Compiler}}
\index{HPF}
\index{HPFC\_EXPAND\_COMPUTE\_LOCAL\_INDEX}
\index{HPFC\_EXPAND\_COMPUTE\_COMPUTER}
\index{HPFC\_EXPAND\_COMPUTE\_OWNER}
\index{HPFC\_EXPAND\_CMPLID}
\index{HPFC\_NO\_WARNING}
\index{HPFC\_FILTER\_CALLEES}
\index{GLOBAL\_EFFECTS\_TRANSLATION}
\index{HPFC\_SYNCHRONIZE\_IO}
\index{HPFC\_IGNORE\_MAY\_IN\_IO}
\index{HPFC\_LAZY\_MESSAGES}
\index{HPFC\_IGNORE\_FCD\_SYNCHRO}
\index{HPFC\_IGNORE\_FCD\_TIME}
\index{HPFC\_IGNORE\_FCD\_SET}
\index{HPFC\_TIME\_REMAPPINGS}
\index{HPFC\_REDUNDANT\_SYSTEMS\_FOR\_REMAPS}
\index{HPFC\_OPTIMIZE\_REMAPPINGS}
\index{HPFC\_DYNAMIC\_LIVENESS}
\index{HPFC\_GUARDED\_TWINS}
\index{HPFC\_BUFFER\_SIZE}
\index{HPFC\_USE\_BUFFERS}
\index{HPFC\_IGNORE\_IN\_OUT\_REGIONS}
\index{HPFC\_EXTRACT\_EQUALITIES}
\index{HPFC\_EXTRACT\_LATTICE}

Debugging levels considered by HPFC: 
\verb+HPFC_{,DIRECTIVES,IO,REMAPPING}_DEBUG_LEVEL+.

  These booleans control whether some computations are directly
generated in the output code, or computed thru calls to dedicated
runtime functions. The default is the direct expansion.

\begin{verbatim}
HPFC_EXPAND_COMPUTE_LOCAL_INDEX TRUE
HPFC_EXPAND_COMPUTE_COMPUTER TRUE
HPFC_EXPAND_COMPUTE_OWNER TRUE
HPFC_EXPAND_CMPLID TRUE
HPFC_NO_WARNING FALSE
\end{verbatim}

   Hacks control\ldots

\begin{verbatim}
HPFC_FILTER_CALLEES FALSE
GLOBAL_EFFECTS_TRANSLATION TRUE
\end{verbatim}

  These booleans control the I/O generation.

\begin{verbatim}
HPFC_SYNCHRONIZE_IO FALSE
HPFC_IGNORE_MAY_IN_IO FALSE
\end{verbatim}

  Whether to use lazy or non-lazy communications

\begin{verbatim}
HPFC_LAZY_MESSAGES TRUE
\end{verbatim}

Whether to ignore FCD (Fabien Coelho Directives\ldots) or not. These
directives are used to instrument the code for testing purposes.

\begin{verbatim}
HPFC_IGNORE_FCD_SYNCHRO FALSE
HPFC_IGNORE_FCD_TIME FALSE
HPFC_IGNORE_FCD_SET FALSE
\end{verbatim}

Whether to measure and display the compilation times for remappings,
and whether to generate outward redundant code for remappings. Also
whether to generate code that keeps track dynamically of live mappings. 
Also whether not to send data to a twin (a processor that holds the very
same data for a given array). 

\begin{verbatim}
HPFC_TIME_REMAPPINGS FALSE
HPFC_REDUNDANT_SYSTEMS_FOR_REMAPS FALSE
HPFC_OPTIMIZE_REMAPPINGS TRUE
HPFC_DYNAMIC_LIVENESS TRUE
HPFC_GUARDED_TWINS TRUE
\end{verbatim}

Whether to use the local buffer management. 1 MB of buffer is allocated.

\begin{verbatim}
HPFC_BUFFER_SIZE 1000000
HPFC_USE_BUFFERS TRUE
\end{verbatim}

Whether to use in and out regions for input/output compiling

\begin{verbatim}
HPFC_IGNORE_IN_OUT_REGIONS TRUE
\end{verbatim}

Whether to extract more equalities from a system, if possible.

\begin{verbatim}
HPFC_EXTRACT_EQUALITIES TRUE
\end{verbatim}

Whether to try to extract the underlying lattice when generating code for
systems with equalities.

\begin{verbatim}
HPFC_EXTRACT_LATTICE TRUE
\end{verbatim}

\begin{verbatim}
HPFC_REDUNDANT_SYSTEMS_FOR_REMAPS FALSE
\end{verbatim}

%% \section{Program Transformations}

\subsection{Dead Code Elimination}
\index{Dead Code}
\index{DEAD\_CODE\_DISPLAY\_STATISTICS}

Since it is useful to display statistics on what has been found
useless and removed in a program, this property is used to ask for
statistics displaying:
\begin{verbatim}
DEAD_CODE_DISPLAY_STATISTICS TRUE
\end{verbatim}

% NN : Are these properties used ? 

%\subsection{Trivial Test Elimination}
%\index{Trivial Test}
%\index{TRIVIAL\_TEST\_DISPLAY\_STATISTICS}

%Since it is useful to display statistics on what has been found
%useless and removed in a program, this property is used to ask for
%statistics displaying:
%\begin{verbatim}
%TRIVIAL_TEST_DISPLAY_STATISTICS TRUE
%\end{verbatim}



%\subsection{Declaration Common Adding}
%\index{Declaration Common}
%\index{DECLARATION\_COMMON\_DISPLAY\_STATISTICS}

%Since it is useful to display statistics on what has been found
%useless and removed in a program, this property is used to ask for
%statistics displaying:
%\begin{verbatim}
%DECLARATION_COMMON_DISPLAY_STATISTICS TRUE
%\end{verbatim}



%\subsection{Declaration Table Normalization}
%\index{Declaration Table}
%\index{DECLARATION\_TABLE\_DISPLAY\_STATISTICS}

%Since it is useful to display statistics on what has been found
%useless and removed in a program, this property is used to ask for
%statistics displaying:
%\begin{verbatim}
%DECLARATION_TABLE_DISPLAY_STATISTICS TRUE
%\end{verbatim}



\subsection{Control Flow Graph Restructuring}
\index{CFG}
\index{Control Flow Graph}
\index{Restructurer}



\subsubsection{Unspaghettify \& Restructurer}
\index{UNSPAGHETTIFY\_DISPLAY\_STATISTICS}
\index{UNSPAGHETTIFY\_TEST\_RESTRUCTURING}
\index{UNSPAGHETTIFY\_RECURSIVE\_DECOMPOSITION}


To display the statistics about unspaghettify and control graph
restructuring.
\begin{verbatim}
UNSPAGHETTIFY_DISPLAY_STATISTICS TRUE
\end{verbatim}

The following option enables the use of IF/THEN/ELSE restructuring
when applying unspaghettify:
\begin{verbatim}
UNSPAGHETTIFY_TEST_RESTRUCTURING FALSE
\end{verbatim}

The following option enables the use of control graph hierarchisation
when applying unspaghettify:
\begin{verbatim}
UNSPAGHETTIFY_RECURSIVE_DECOMPOSITION FALSE
\end{verbatim}


\subsubsection{Clean Up Sequences}
\index{CLEAN\_UP\_SEQUENCES\_DISPLAY\_STATISTICS}

To display the statistics about cleaning-up sequences and removing
useless CONTINUE or empty statement.
\begin{verbatim}
CLEAN_UP_SEQUENCES_DISPLAY_STATISTICS FALSE
\end{verbatim}


\subsubsection{FORMAT Restructuring}
\index{Format (Fortran)}
\index{GATHER\_FORMATS\_AT\_BEGINNING}
\index{GATHER\_FORMATS\_AT\_END}

To able deeper code transformation, FORMATs can be gathered at the
very beginning of the code or at the very end according to the
following options in the unspaghettify or control restructuring phase.
\begin{verbatim}
GATHER_FORMATS_AT_BEGINNING FALSE
GATHER_FORMATS_AT_END FALSE
\end{verbatim}


\subsection{Array Privatization}
\index{Privatization}
\index{Privationzation (Array)}
\index{Array Privatization}
\index{ARRAY\_PRIV\_FALSE\_DEP\_ONLY}
\index{ARRAY\_SECTION\_PRIV\_COPY\_OUT}

This transformation privatizes array sections. Several privitizability
criterions could be applied, and its not clear which one should be used. The
default case is to remove potential false dependences between
iterations. The first option, when set to false, removes this
constraint. It is useful for single assignment programs, to discover what
section is really local to each iteration. When the second option is set to
false, the copy-out problem is not considered, i.e. only array elements that
are not further reused in the program continuation can be privatized. 

\begin{verbatim}
ARRAY_PRIV_FALSE_DEP_ONLY TRUE
\end{verbatim}

\begin{verbatim}
ARRAY_SECTION_PRIV_COPY_OUT TRUE
\end{verbatim}


\subsubsection{Partial Atomizer}
\index{Atomization}
\index{Three Address Code}
\index{ATOMIZE\_INDIRECT\_REF\_ONLY}

This transformation only atomizes indirect references of array access
functions.

\begin{verbatim}
ATOMIZE_INDIRECT_REF_ONLY FALSE
\end{verbatim}


\subsubsection{Loop Distribution}
\index{Loop Distribution}
\index{Distribution (Loop)}
\index{PARTIAL\_DISTRIBUTION}

Partial distribution distributes the statements of a loop nest except
 the isolated statements,that have no dependences at the common level l,
 are gathered in the same l-th loop.

\begin{verbatim}
PARTIAL_DISTRIBUTION FALSE
\end{verbatim}


\subsection{Cloning}
\index{Cloning}
\index{TRANSFORMATION\_CLONE\_ON\_ARGUMENT}

Cloning on an argument. If 0, a user request is performed.

\begin{verbatim}
TRANSFORMATION_CLONE_ON_ARGUMENT 0
\end{verbatim}

\subsection{Expression Optimizer}
\index{Optimization}
\index{EOLE}
\index{EOLE\_FLAGS}
\index{EOLE\_OPTIONS}

EOLE: Evaluation Optimization of Loops and Expressions. 
Julien Zory stuff integrated within pips. It relies on an external tool
named \texttt{eole}. The version and options set can be controlled from
the following properties. The status is experimental. See the
\texttt{OPTIMIZE\_EXPRESSION} pass for more details about the advanced
transformations performed.

\begin{verbatim}
EOLE            "newgen_eole"
EOLE_FLAGS      "-nfd"
EOLE_OPTIONS    ""
EOLE_OPTIMIZATION_STRATEGY "P2SC"
\end{verbatim}


\subsection{Type Checker}

Here are type checker options. Whether to deal with double complex or to
refuse them. Whether to add a summary of errors, conversions and
simplifications as a comment to the routine. Whether to always show complex
constructors.

\begin{verbatim}
TYPE_CHECKER_DOUBLE_COMPLEX_EXTENSION FALSE
TYPE_CHECKER_ADD_SUMMARY FALSE
TYPE_CHECKER_EXPLICIT_COMPLEX_CONSTANTS FALSE
\end{verbatim}


\subsection{Array Resizing}

This phase is firstly designed to infer automatically new array
declarations for assumed-size (A(*)) and one (A(1) or also called ugly
assumed-size) array declarators. But
it also can be used for all kinds of array : local or formal array
arguments, unnormalized or all kinds of declarations. There are two
different approaches that can be combined to have better results. 
 
\subsubsection{Top-down Array Resizing}
There are three different options: 
\begin{itemize}
\item Using information from the MAIN program or not (1 or 0). If you use
  this option, modules that are never called by the MAIN program are not
  taken into account. By default, we do not use this information (0).  
\item Compute new declarations for all kinds of formal array arguments,
  not only assumed-size and one declarations (1 or 0). By default, we
  compute for assumed-size and one only (0).
\item Compute new declarations for assumed-size array only, not for ugly
  assumed-size (one) array (1 or 0). By default, we compute for both kinds
  (0).
\end{itemize}
So the combination of the three above options gives us a number from 0 to
7 (binary representation : 000, 001,..., 111). You must pay attention to
the order of options. For example, if you want to use information from
MAIN program to compute new declarations for assumed-size and one array
declarations, both of them, the option is 4 (100). The default option is 0
(000). 

\begin{verbatim}
ARRAY_RESIZING_TOP_DOWN_OPTION 0
\end{verbatim}

\subsubsection{Bottom-up Array Resizing}

There are also three different options: 
\begin{itemize}
\item Infer new declarations for arrays with declarations created by the
  top-down approach or not (1 or 0). This is a special option because we
  want to combine the two approaches: apply top-down first and then
  bottom-up on the instrumented arrays (their declarations are of from:
  I\_PIPS\_MODULE\_ARRAY). By default, we do not use this option (0).  
\item Compute new declarations for all kinds of array arguments,
  not only assumed-size and one declarations (1 or 0). By default, we
  compute for assumed-size and one only (0).
\item Compute new declarations for local array arguments or not (1 or 0). By default, we
  compute for formal array arguments only (0).
\end{itemize}
So the combination of the three above options gives us a number from 0 to
7 (binary representation : 000, 001,..., 111). You must pay attention to
the order of options. There are some options that exclude others, such as
the option to compute new declarations for instrumented array
(I\_PIPS\_MODULE\_ARRAY). The default option is 0
(000). 

\begin{verbatim}
ARRAY_RESIZING_BOTTOM_UP_OPTION 0
\end{verbatim}

\section{Program Verifications}

The following property tells the verification phases (array bound
checking, alias checking or uninitialized variables checking) to instrument
codes with the STOP or the PRINT message. Logically, if a standard violation
is detected, the program will stop immediately. Furthermore, the STOP message gives the
partial redundancy elimination phase more information to remove
redundant tests occurred after this STOP. However, for the debugging
purposes, one may need to display all possible violations such as
out-of-bound or used-before-set errors, but not
to stop the program. In this case, a PRINT message is chosen. By default,
we use the STOP message.
 
\begin{verbatim}
PROGRAM_VERIFICATION_WITH_PRINT_MESSAGE FALSE
\end{verbatim}

\subsection{Array Bound Checking}

Array bounds checking refers to determining whether all array reference
are within their declared range in all of its uses in a program. Here are
array bounds checking options for code instrumentation, in order to
compute the number of bound checks added. We can use only one property for
these two case, but the meaning is not clear. To be changed ? 

\begin{verbatim}
INITIAL_CODE_ARRAY_BOUND_CHECK_INSTRUMENTATION TRUE
PIPS_CODE_ARRAY_BOUND_CHECK_INSTRUMENTATION FALSE
\end{verbatim}

\subsection{Alias Verification}

This is a property to tell the alias propagation and alias checking phase to use
information from MAIN program or not. If the current module is never
called by the main program, we do no alias propagation and alias checking
for this module if the property is on. However, we can 
do nothing with modules that have no callers at all, because this is a
top-down approach ! 

\begin{verbatim}
ALIAS_CHECKING_USING_MAIN_PROGRAM FALSE
\end{verbatim}


%%
%% PRETTYPRINTER
%%

\section{Prettyprinter Options}
\label{section-prettyprinters}
\index{Prettyprinter}


\subsection{Code Prettyprinter}
\index{Prettyprinter (Code)}
\index{Code Prettyprinter}


\subsubsection{Layout}
\index{Analysis}
\index{PRETTYPRINT\_LOOSE}
\index{PRETTYPRINT\_STATEMENT\_NUMBER}
\index{PRETTYPRINT\_INDENTATION}
\index{Statement number}

When prettyprinting semantic information (preconditions, transformers and
regions), add a line before and after each piece of information if set to
\verb+TRUE+. The resulting code is more readable, but is larger.  

\begin{verbatim}
PRETTYPRINT_LOOSE TRUE 
\end{verbatim}

By default, each prettyprinted line of Fortran code is terminated by its
statement number in columns 73-80, unless no significative statement
number is available. This feature is used to trace the origin of
statements after program transformations and parallelization steps.

This feature may be inconvenient for some compilers or because it
generates large source files. It may be turned off.

Note that the statement number is {\em not} related to the line
number. Two statements on the same line have different statement
numbers. A multi-line statement only has one number. See \Pri{}.

\begin{verbatim}
PRETTYPRINT_STATEMENT_NUMBER TRUE 
\end{verbatim}

The structured control structure is shown by using an indentation. The
default value is 3.

\begin{verbatim}
PRETTYPRINT_INDENTATION 3
\end{verbatim}


\subsubsection{Target Language Selection}
\index{HPF}
\index{Fortran 90}
\index{CM Fortran}
\index{Cray Fortran}
\index{Fortran (Cray)}
\index{Craft}
\index{PRETTYPRINT\_PARALLEL}

How to print, from a syntactic point of view, a parallel do loop. Possible
values are: \texttt{do doall f90 hpf cray craft cmf omp}. 

\begin{verbatim}
PRETTYPRINT_PARALLEL    "do"
\end{verbatim}

\subsubsection{Display Analysis Results}
\index{PRETTYPRINT\_EFFECTS}
\index{PRETTYPRINT\_IO\_EFFECTS}
\index{PRETTYPRINT\_REVERSE\_DOALL}
\index{PRETTYPRINT\_TRANSFORMER}
\index{PRETTYPRINT\_EXECUTION\_CONTEXT}
\index{PRETTYPRINT\_REGION}
\index{PRETTYPRINT\_SCALAR\_REGIONS}

Add statement effects as comments in output; not implemented (that way) yet.

\begin{verbatim}
PRETTYPRINT_EFFECTS FALSE
\end{verbatim}

Add statement IO-effects as comments in output; They are simulated by
a read/write action to the array TOP-LEVEL:LUNS()

\begin{verbatim}
PRETTYPRINT_IO_EFFECTS TRUE
\end{verbatim}

Transform DOALL loops into sequential loops with an opposed increment
not implemented

\begin{verbatim}
PRETTYPRINT_REVERSE_DOALL FALSE
\end{verbatim}

Print statement transformers as comments in code.

\begin{verbatim}
PRETTYPRINT_TRANSFORMER FALSE
\end{verbatim}

Print statement preconditions as comments in code.

\begin{verbatim}
PRETTYPRINT_EXECUTION_CONTEXT FALSE
\end{verbatim}

Print statement regions as comments in code.

\begin{verbatim}
PRETTYPRINT_REGION FALSE
\end{verbatim}

Print regions of scalars.

\begin{verbatim}
PRETTYPRINT_SCALAR_REGIONS FALSE
\end{verbatim}


\subsubsection{Display Internals for Debugging}
\index{Debug}
\index{PRETTYPRINT\_BLOCKS}
\index{PRETTYPRINT\_UNSTRUCTURED}
\index{PRETTYPRINT\_ALL\_EFFECTS}
\index{PRETTYPRINT\_EMPTY\_BLOCKS}
\index{PRETTYPRINT\_STATEMENT\_ORDERING}
\index{PRETTYPRINT\_ALL\_LABELS}
\index{PRETTYPRINT\_DO\_LABEL\_AS\_COMMENT}
\index{PRETTYPRINT\_ALL\_PRIVATE\_VARIABLES}
\index{PRETTYPRINT\_CHECK\_IO\_STATEMENTS}
\index{PRETTYPRINT\_INTERNAL\_RETURN}
\index{PRETTYPRINT\_FINAL\_RETURN}
\index{PRETTYPRINT\_BLOCK\_IF\_ONLY}
\index{PRETTYPRINT\_WITH\_COMMON\_NAMES}
\index{PRETTYPRINT\_ALL\_PARENTHESES}

All these debugging options should be set to FALSE for normal operation,
when the prettyprinter is expected to produce code as close as possible to
the input form.
When they are turned on, the output is closer to the PIPS internal
representation.

Sequences are implicit in Fortran and in many programming languages but
they are internally represented. It is possible to print pieces of
information  gathered about sequences by turning on this property.

\begin{verbatim}
PRETTYPRINT_BLOCKS FALSE
\end{verbatim}

Print unstructured statements.

\begin{verbatim}
PRETTYPRINT_UNSTRUCTURED FALSE
\end{verbatim}

Print all effects for all statements regardless of \verb+PRETTYPRINT_BLOCKS+
and \verb+PRETTYPRINT_UNSTRUCTURED+.

\begin{verbatim}
PRETTYPRINT_ALL_EFFECTS FALSE
\end{verbatim}

Print empty statement blocks (false by default):

\begin{verbatim}
PRETTYPRINT_EMPTY_BLOCKS FALSE
\end{verbatim}

Print statement ordering information (false by default):

\begin{verbatim}
PRETTYPRINT_STATEMENT_ORDERING FALSE
\end{verbatim}

The next property controls the print out of DO loops and CONTINUE
statement. The code may be prettyprinted with DO label and CONTINUE
instead of DO-ENDDO, as well as with other useless CONTINUE (This property
encompasses a virtual \verb/PRETTYPRINT_ALL_CONTINUE_STATEMENTS/). If set
to FALSE, the default option, all useless CONTINUE statements are NOT
prettyprinted (ie. all those in structured parts of the code). This mostly
is a debugging option useful to understand better what is in the internal
representation.

\paragraph{Warning:} if set to TRUE, generated code may be
wrong after some code transformations like distribution...

\begin{verbatim}
PRETTYPRINT_ALL_LABELS FALSE
\end{verbatim}

Print code with DO label as comment.

\begin{verbatim}
PRETTYPRINT_DO_LABEL_AS_COMMENT FALSE
\end{verbatim}

Print private variables without regard for their effective use. By
default, private variables are shown only for parallel DO loops.

\begin{verbatim}
PRETTYPRINT_ALL_PRIVATE_VARIABLES FALSE
\end{verbatim}

Non-standard variables and tests are generated to simulate the control
effect of Fortran IO statements. If an end-of-file condition is
encountered or if an io-error is raised, a jump to relevant labels may
occur if clauses \verb|ERR=| or \verb|END=| are defined in the IO
control list. These tests are normally not printed because they could
not be compiled by a standard Fortran compiler and because they are
redundant with the IO statement itself.

\begin{verbatim}
PRETTYPRINT_CHECK_IO_STATEMENTS FALSE
\end{verbatim}

Manage internal RETURNs correctly if set to TRUE.  This results in a
slightly ugly (but correct) prettyprint, compared to a nicer (but
possibly incorrect) default one. Internal returns are converted by the
parser into GO~TO's the final and unique return.

\begin{verbatim}
PRETTYPRINT_INTERNAL_RETURN TRUE
\end{verbatim}

Print the final RETURN statement, although this is useless according to
Fortran standard. Note that comments attached to the final return are
lost if it is not printed. Note also that the final RETURN may be part
of an unstructured in which case the previous property is required.

\begin{verbatim}
PRETTYPRINT_FINAL_RETURN FALSE
\end{verbatim}

The internal representation is based on a standard IF structure, known as
{\em block if} in Fortran jargon. When possible, the prettyprinter uses
the {\em logical if} syntactical form to save lines and to produce an
output assumed closer to the input. When statements are decorated,
information gathered by PIPS may be lost. This property can be turned on
to have an output closer to the internal representation. Note that edges
of the control flow graphs may still be displayed as {\em logical if}
since they never carry any useful information\footnote{Information is
carried by the vertices (i.e. nodes). A CONTINUE statement is
generated to have an attachment node when
some information must be stored and displayed.}.

\begin{verbatim}
PRETTYPRINT_BLOCK_IF_ONLY FALSE
\end{verbatim}

Effects give data that may be read and written in a procedure. These data
are represented by their entity name (module name+local name). In order to
have information on the scope of commons, we need to know the common in
which the entity is declared if any. 

\begin{verbatim}
PRETTYPRINT_WITH_COMMON_NAMES FALSE
\end{verbatim}

By default, expressions are simplified according to operator
precedences. It is possible to override this prettyprinting option and to
reflect the abstract tree with redundant parentheses.

\begin{verbatim}
PRETTYPRINT_ALL_PARENTHESES FALSE
\end{verbatim}

\subsubsection{Declarations}
\label{subsubsection-declarations}
\index{Declaration}
\index{PRETTYPRINT\_ALL\_DECLARATIONS}
\index{PRETTYPRINT\_HEADER\_COMMENTS}
\index{PRETTYPRINT\_COMMONS}
\index{PRETTYPRINT\_VARIABLE\_DIMENSIONS}

By default, module declarations are preserved as huge strings to produce
an output as close as possible to the input (see field \verb/decls_text/
in type \verb/code/). However, large program transformations and code
generation phases, e.g. hpfc,a require updated declarations.

Regenerate all variable declarations, including those variables not
declared in the user program. By default, when possible, the user
declaration {\em text} is used to preserve comments.

\begin{verbatim}
PRETTYPRINT_ALL_DECLARATIONS FALSE
\end{verbatim}

If the prettyprint of the header and the declarations are done by
PIPS, try to display the genuine comments. Unfortunately, there is no
longer order relation between the comments and the declarations since
these are sorted by PIPS. By default, do not try to display the
comments when PIPS is generating the header.
\begin{verbatim}
PRETTYPRINT_HEADER_COMMENTS FALSE
\end{verbatim}

How to regenerate the common declarations.
It can be \emph{none}, \emph{declaration}, or \emph{include}.

\begin{verbatim}
PRETTYPRINT_COMMONS "declaration"
\end{verbatim}

\verb/DATA/ declarations are partially handled presently.

\begin{verbatim}
PRETTYPRINT_DATA_STATEMENTS TRUE
\end{verbatim}

Where to put the dimension information, which must appear once.
The default is associated to the type information. It can be associated to
The type, or preferably to the common if any, or maybe to a dimension
statement, which is not implemented. 

\begin{verbatim}
PRETTYPRINT_VARIABLE_DIMENSIONS "type"
\end{verbatim}


\subsubsection{FORESYS Interface}
\index{Foresys}
\index{PRETTYPRINT\_FOR\_FORESYS}

Print transformers, preconditions and regions in a format accepted by
Foresys and Partita. Not maintained.

\begin{verbatim}
PRETTYPRINT_FOR_FORESYS FALSE
\end{verbatim}


\subsubsection{HPFC Prettyprinter}
\index{HPF}
\index{Prettyprinter (HPF)}
\index{PRETTYPRINT\_HPFC}

To deal specifically with the prettyprint for hpfc

\begin{verbatim}
PRETTYPRINT_HPFC FALSE
\end{verbatim}


\subsubsection{Interface to Emacs}
\index{Emacs}
\index{PRETTYPRINT\_ADD\_EMACS\_PROPERTIES}

The following property tells PIPS to attach various Emacs properties
for interactive purpose. Used internally by the Emacs pretyyprinter and
the \EPIPS{} user interface.
\begin{verbatim}
PRETTYPRINT_ADD_EMACS_PROPERTIES FALSE
\end{verbatim}


\subsubsection{Interface to Graphics Prettyprinters}
\index{DaVinci}
\index{PRETTYPRINT\_UNSTRUCTURED\_AS\_A\_GRAPH}
\index{PRETTYPRINT\_UNSTRUCTURED\_AS\_A\_GRAPH\_VERBOSE}

To output a code with a hierarchical view of the control graph with
markers instead of a flat one. It purposes a display with a graph
browser such as \PdaVinci{}:

\begin{verbatim}
PRETTYPRINT_UNSTRUCTURED_AS_A_GRAPH FALSE
\end{verbatim}

and to have a decorated output with the hexadecimal addresses of the
control nodes:
\begin{verbatim}
PRETTYPRINT_UNSTRUCTURED_AS_A_GRAPH_VERBOSE FALSE
\end{verbatim}

\subsection{Call Graph}
\label{subsection-call-graph}
\index{Call Graph}
\index{CALLGRAPH\_DEBUG}

This library is used to display the calling relationship between modules.
It is different from the interprocedural call flow graph, ICFG (see
Section~\ref{subsection-interprocedural-control-flow-graph}). For example:
if A calls B twice, in callgraph, there is only one edge between A and B;
while in ICFG (see next section)), there are two edges between A and B,
since A contains two call sites.

The call graph is derived from the modules declarations. It does not
really the parsed code per se, but the code must have been parsed to have
up-to-date declarations in the symbol table.

Because of printout limitations, the call graph is developed into a tree
before it is printed. The sub-graph of a module appears as many times as
is has callers. The resulting printout may be very long.

There is no option for the callgraph prettyprinter except
for debugging.

Debugging level (should be \verb+CALLGRAPH_DEBUG_LEVEL+ and numeric!)

\begin{verbatim}
CALLGRAPH_DEBUG FALSE
\end{verbatim}

\subsection{Interprocedural Control Flow Graph}
\label{subsection-interprocedural-control-flow-graph}
\index{ICFG}
\index{ICFG\_IFs}
\index{ICFG\_DOs}
\index{ICFG\_CALLEES\_TOPO\_SORT}
\index{ICFG\_DECOR}
\index{ICFG\_DRAW}
\index{ICFG\_DEBUG}

This prettyprinter is NOT a call graph prettyprinter (see
Section~\ref{subsection-call-graph}). Control flow information can be
displayed and every call site is shown, possibly with some annotation like
precondition or region

This prettyprinter uses the module codes in the workspace database to
build the ICFG.

Print IF statements controlling call sites:

\begin{verbatim}
ICFG_IFs FALSE
\end{verbatim}

Print DO loops enclosing call sites:

\begin{verbatim}
ICFG_DOs FALSE
\end{verbatim}

Print resource icfg to daVinci format

\begin{verbatim}
ICFG_DV FALSE
\end{verbatim}

To be destroyed:

\begin{verbatim}
ICFG_CALLEES_TOPO_SORT FALSE
\end{verbatim}

\begin{verbatim}
ICFG_DECOR 0
\end{verbatim}

\begin{verbatim}
ICFG_DRAW TRUE
\end{verbatim}

Debugging level (should be \verb+ICFG_DEBUG_LEVEL+ and numeric instead
of boolean!):

\begin{verbatim}
ICFG_DEBUG FALSE
\end{verbatim}

RW\_FILTERED\_EFFECTS: criteria to filter
0: READ\_ALL
1: WRITE\_ALL
2: READWRITE\_ALL
3: READ\_END
4: WRITE\_END
5: READWRITE\_END
\begin{verbatim}
RW_FILTERED_EFFECTS 0
\end{verbatim}



%%
%% PAF
%%

\section{Feautrier's Method}
\label{section-feautrier}

No properties apparently.



%%
%% CONCLUSION
%%

\section*{Conclusion}

Do not be surprised by strange results obtained after selecting a
property yourself!

\begin{thebibliography}{99}

\bibitem{JT89} P. Jouvelot, R. Triolet, 
{\em NewGen: A Language-Independent Program Generator},
July 12, 1989, 
\htmladdnormallink{Tech. Report A/191}{newgen-paper/newgen-paper.html}

\bibitem{JT90} P. Jouvelot, R. Triolet, 
{\em NewGen User Manual}. December
1990, 
\htmladdnormallink{Tech. Report A/???.}{newgen-manual/newgen-manual.html}

\bibitem{Z94} Lei Zhou,
{\em Analyse statique et dynamique de la complxit  des programmes
scientifiques}, 
Thse de doctorat de l'universit Pierre et Marie Curie, 14
septembre 1994. Technical Report A/255.

\end{thebibliography}

\newpage

% Cross-references for points and keywords

\input{properties-rc.ind}

\end{document}
